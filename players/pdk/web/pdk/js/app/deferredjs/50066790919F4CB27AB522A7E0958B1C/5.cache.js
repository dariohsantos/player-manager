PDK.runAsyncCallback5('function Lib(){}\nfunction plb(){}\nfunction $lb(){}\nfunction Nmb(){}\nfunction Gib(a,b){a.c=b}\nfunction Hib(a,b){a.d=b}\nfunction Iib(a,b){a.f=b}\nfunction Jib(a,b){a.i=b}\nfunction Kib(a,b){a.j=b}\nfunction jnb(a,b){a.j=b}\nfunction knb(a,b){a.k=b}\nfunction onb(a,b){a.u=b}\nfunction vlb(a){this.c=a}\nfunction Clb(a){this.c=a}\nfunction Glb(a){this.c=a}\nfunction Kmb(a){this.c=a}\nfunction Rpb(a){this.c=a}\nfunction Vpb(a){this.c=a}\nfunction Zpb(a){this.c=a}\nfunction aqb(a){this.c=a}\nfunction dqb(a){this.c=a}\nfunction hqb(a){this.c=a}\nfunction lqb(a){this.c=a}\nfunction pqb(a){this.c=a}\nfunction tqb(a){this.c=a}\nfunction xqb(a){this.c=a}\nfunction Bqb(a){this.c=a}\nfunction Pqb(a){this.c=a}\nfunction Tqb(a){this.c=a}\nfunction Xqb(a){this.c=a}\nfunction _qb(a){this.c=a}\nfunction drb(a){this.c=a}\nfunction grb(a){this.c=a}\nfunction krb(a){this.c=a}\nfunction orb(a){this.c=a}\nfunction srb(a){this.c=a}\nfunction wrb(a){this.c=a}\nfunction Arb(a){this.c=a}\nfunction Erb(a){this.c=a}\nfunction Irb(a){this.c=a}\nfunction Mrb(a){this.c=a}\nfunction Urb(a){this.c=a}\nfunction Asb(a){this.c=a}\nfunction Wsb(a){this.c=a}\nfunction lHb(a){this.c=a}\nfunction oHb(a){this.c=a}\nfunction RIb(a){this.c=a}\nfunction HVb(a){this.c=a}\nfunction KWb(a){this.c=a}\nfunction QWb(a){this.c=a}\nfunction NWb(a){this.S=a}\nfunction bcc(a){this.c=a}\nfunction icc(a){this.c=a}\nfunction kcc(a){this.c=a}\nfunction ncc(a){this.c=a}\nfunction qcc(a){this.c=a}\nfunction Pmb(b,a){b.logger=a}\nfunction GVb(a,b){a.c.fe(b)}\nfunction Gpb(a,b){snb(a.c,b)}\nfunction Kpb(a,b){unb(a.c,b)}\nfunction Upb(a,b){Epb(a.c,b)}\nfunction Ypb(a,b){Apb(a.c,b)}\nfunction wqb(a,b){Apb(a.c,b)}\nfunction gqb(a,b){Gpb(a.c,b)}\nfunction kqb(a,b){Jpb(a.c,b)}\nfunction oqb(a,b){Kpb(a.c,b)}\nfunction Aqb(a,b){Lpb(a.c,b)}\nfunction Oqb(a,b){Jqb(a.c,b)}\nfunction jrb(a,b){Iqb(a.c,b)}\nfunction xjb(a,b){FFb(a.d,b)}\nfunction lnb(a,b){jub(a.i,b)}\nfunction mnb(a,b){kub(a.i,b)}\nfunction nnb(a,b){lub(a.i,b)}\nfunction Kqb(a,b){Rsb(a.e,b)}\nfunction Lqb(a,b){Ssb(a.e,b)}\nfunction Sqb(a){bsb(a.c.e.e)}\nfunction Wqb(a){asb(a.c.e.e)}\nfunction $qb(a){csb(a.c.e.e)}\nfunction zrb(a){esb(a.c.e.e)}\nfunction Drb(a){gsb(a.c.e.e)}\nfunction Hrb(a){fsb(a.c.e.e)}\nfunction Lrb(a){hsb(a.c.e.e)}\nfunction nrb(a){$rb(a.c.e.e)}\nfunction rrb(a){Zrb(a.c.e.e)}\nfunction vrb(a){_rb(a.c.e.e)}\nfunction HIb(a){IIb(a.c,Chc(a.d))}\nfunction JIb(a){KIb(a.c,Chc(a.d))}\nfunction sib(a){this.c=new Qr(a)}\nfunction cjb(){this.c=new ksd}\nfunction ljb(a,b){this.c=a;this.d=b}\nfunction zjb(a,b){this.c=a;this.d=b}\nfunction Ulb(a,b){Jg.call(this,a,b)}\nfunction emb(a,b){Jg.call(this,a,b)}\nfunction tmb(a,b){Jg.call(this,a,b)}\nfunction Dmb(a,b){Jg.call(this,a,b)}\nfunction XVb(a){VVb.call(this,a)}\nfunction FIb(a,b){this.c=a;this.d=b}\nfunction LIb(a,b){this.d=a;this.c=b}\nfunction yjb(a,b){GFb(a.d,qjb(a.c.c,b))}\nfunction Ssb(a,b){dsb(a.e,b);ykb(a.c,b)}\nfunction Psb(a,b,c,d,e){Wrb(a.e,b,c,d,e)}\nfunction Qsb(a,b,c,d,e){Xrb(a.e,b,c,d,e)}\nfunction Rsb(a,b){a.d=b;jslink.xkb(a.c,b)}\nfunction snb(a,b){a.d=b;knb(a,new sib(b))}\nfunction unb(a,b){a.f=b;onb(a,new sib(b))}\nfunction Vhb(){Vhb=twd;Uhb=new bsd}\nfunction Fmb(){Cmb();return wmb}\nfunction gmb(){dmb();return amb}\nfunction umb(){smb();return kmb}\nfunction Wlb(){Tlb();return Jlb}\nfunction Vlb(a){Tlb();return Pg((Ylb(),Xlb),a)}\nfunction fmb(a){dmb();return Pg((imb(),hmb),a)}\nfunction Emb(a){Cmb();return Pg((Hmb(),Gmb),a)}\nfunction imb(){imb=twd;hmb=Lg((dmb(),amb))}\nfunction Hmb(){Hmb=twd;Gmb=Lg((Cmb(),wmb))}\nfunction Ylb(){Ylb=twd;Xlb=Lg((Tlb(),Jlb))}\nfunction sqb(a){jnb(a.c.c,(Ijd(),Hjd))}\nfunction Fpb(a,b){b.d<=0||b.c<=0||lnb(a.c,b)}\nfunction Hpb(a,b){b.d<=0||b.c<=0||mnb(a.c,b)}\nfunction Ipb(a,b){b.d<=0||b.c<=0||nnb(a.c,b)}\nfunction Jpb(a,b){jnb(a.c,(Ijd(),Gjd));tnb(a.c,b)}\nfunction jub(a,b){a.k=b;jslink.oub(a.q,a.n,b)}\nfunction kub(a,b){a.o=b;jslink.oub(a.q,a.p,b)}\nfunction IIb(a,b){a.callFunction(hHd,[true],b)}\nfunction KIb(a,b){a.callFunction(hHd,[false],b)}\nfunction tnb(a,b){a.f=rnb(b);onb(a,new sib(a.f))}\nfunction Trb(a){var b;b=Vsb(kLb(a.c));return b}\nfunction dLb(a){!a.p&&(a.p=new vlb(a));return a.p}\nfunction eLb(a){!a.q&&(a.q=new Kmb(a));return a.q}\nfunction vLb(a){!a.O&&(a.O=new KWb(a));return a.O}\nfunction wLb(a){!a.P&&(a.P=new QWb(a));return a.P}\nfunction jLb(a){!a.B&&(a.B=new Urb(a));return a.B}\nfunction kLb(a){!a.C&&(a.C=new Wsb(a));return a.C}\nfunction FLb(a){!a.Y&&(a.Y=new bcc(a));return a.Y}\nfunction GLb(a){!a.Z&&(a.Z=new icc(a));return a.Z}\nfunction HLb(a){!a._&&(a._=new ncc(a));return a._}\nfunction ILb(a){!a.ab&&(a.ab=new qcc(a));return a.ab}\nfunction hcc(a){var b;b=new fcc(vMb(rLb(a.c)));return b}\nfunction mcc(a){var b;b=new kcc(pcc(ILb(a.c)));return b}\nfunction Umb(a){var b;b=jslink._nb(jslink.hLb(a.c));return b}\nfunction vtb(){vtb=twd;utb=Lg((jslink.qtb(),jslink.mtb))}\nfunction stb(a){jslink.qtb();return Pg((vtb(),utb),a)}\nfunction Mmb(c){var b=c;return {log:function(a){b.ee(a)}}}\nfunction EMb(a){var b;b=DIb(new FIb(MMb(a),IMb(a)));return b}\nfunction Fqb(a){if(typeof a.x!==_zd)return 0;return a.x}\nfunction Qrb(a){if(typeof a.x!==_zd)return 0;return a.x}\nfunction Rrb(a){if(typeof a.y!==_zd)return 0;return a.y}\nfunction Gqb(a){if(typeof a.y!==_zd)return 0;return a.y}\nfunction Eqb(a){if(typeof a.width!==_zd)return 0;return a.width}\nfunction Prb(a){if(typeof a.width!==_zd)return 0;return a.width}\nfunction Opb(a){if(typeof a===szd)return new a;else return a}\nfunction rnb(a){if(a.release)return a.release;else return a}\nfunction ulb(a){var b;if(!a.d){b=Jmb(eLb(a.c));a.d=b}return a.d}\nfunction JWb(a){var b;if(!a.d){b=PWb(wLb(a.c));a.d=b}return a.d}\nfunction acc(a){var b;if(!a.d){b=mcc(HLb(a.c));a.d=b}return a.d}\nfunction pcc(a){var b;if(!a.d){b=hcc(GLb(a.c));a.d=b}return a.d}\nfunction PWb(a){var b;b=new NWb(jslink.tMb(rLb(a.c)));return b}\nfunction kjb(a){a.c.c=Umb(jslink.fLb(a.c.d.c));yjb(a.d,a.c.c)}\nfunction Dl(a){jslink.Bl();jslink.bd(jslink.Al,a);jslink.Fl()}\nfunction lub(a,b){jslink.q0(a.q,b.d+hDd);jslink.l0(a.q,b.c+hDd)}\nfunction Wrb(a,b,c,d,e){xlb(a.c,b+Jzd+d);Yrb(a,b).ge(d,c,b,e)}\nfunction Xrb(a,b,c,d,e){ylb(a.c,b+Jzd+d);Yrb(a,b).he(b,c,d,e)}\nfunction hjb(a,b){if(a.c){yjb(b,a.c);return}S7b(a.e,new ljb(a,b))}\nfunction Eib(a,b){var c;c=wt(b,126);return pmd(a.e,jslink.Fib(c))}\nfunction Iqb(a,b){var c;c=b;Psb(a.e,c.deck,c.area,c.card,c.nextId)}\nfunction Jqb(a,b){var c;c=b;Qsb(a.e,c.deck,c.area,c.card,c.previousId)}\nfunction DIb(a){var b,c;b=EIb(a.c,Chc(a.d));c=new LIb(a.d,b);return c}\nfunction xMb(a){var b;if(!a.n){b=kHb(new lHb(BMb(a)));a.n=b}return a.n}\nfunction yMb(a){var b;if(!a.o){b=nHb(new oHb(BMb(a)));a.o=b}return a.o}\nfunction Dqb(a){if(typeof a.height!==_zd)return 0;return a.height}\nfunction Orb(a){if(typeof a.height!==_zd)return 0;return a.height}\nfunction lsb(a,b,c){this.j=a;this.d=b;this.c=c}\nfunction fcc(a){this.e=a;this.d=a.style[xDd];this.c=a.style[wDd]}\nfunction dcc(a){a.e.style[xDd]=-100000+(Lj(),hDd);a.e.style[wDd]=\'-100000px\'}\nfunction Blb(a,b){switch(b.d){case 4:ecc(a.c.c);break;case 3:dcc(a.c.c);}}\nfunction crb(a,b){var c;c=false;!!b&&!!b.yc()&&(c=b.yc().c);Lqb(a.c,c)}\nfunction tVb(a,b,c){var d;d=new XVb(new HVb(c));a.c.Cg(c,d);NVb(a.d,b,d.d)}\nfunction ksb(a){if(a.e==null){return}jslink.inb(a.d,jslink.pWd,a.e)}\nfunction Bpb(a,b,c){vVb(a.j,\'OnAddCard\',jslink.Mpb(b,c,null,null,null))}\nfunction Whb(a){Vhb();a!=null&&(a=a.toLowerCase());return wt(Uhb.Ag(a),1)}\nfunction Zrb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.ie()}}\nfunction $rb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.je()}}\nfunction _rb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.ke()}}\nfunction asb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.le()}}\nfunction bsb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.me()}}\nfunction csb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.ne()}}\nfunction esb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.pe()}}\nfunction fsb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.qe()}}\nfunction gsb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.re()}}\nfunction hsb(a){var b,c;for(c=Aqd(Sod(a.d));c.c.jd();){b=wt(Gqd(c),143);b.se()}}\nfunction dsb(a,b){var c,d;for(d=Aqd(Sod(a.d));d.c.jd();){c=wt(Gqd(d),143);c.oe(b)}}\nfunction jib(a,b){var c;if(!b)return a;for(c=oqd(Qod(b));c.c.jd();){wt(uqd(c),1)}return a}\nfunction vMb(a){var b;if(!a.j){b=QIb(OUb((new RIb(BMb(a))).c,sBd));a.j=b}return a.j}\nfunction Jmb(a){var b;b=new zlb(acc(FLb(a.c)),yMb(rLb(a.c)),xMb(rLb(a.c)));return b}\nfunction Yrb(a,b){var c;a.d.yg(b)?(c=wt(a.d.Ag(b),143)):(c=wt(a.d.Ag(HYd),143));return c}\nfunction ecc(a){a.e.style[xDd]=a.d==null?pzd:a.d;a.e.style[wDd]=a.c==null?pzd:a.c}\nfunction dmb(){dmb=twd;cmb=new emb(BCd,0);bmb=new emb(ACd,1);amb=nt(TX,ywd,135,[cmb,bmb])}\nfunction xlb(a,b){var c;if(b==null)throw new Xld;jsd(a.c,b.toLowerCase());c=new $lb;RJc(a.d,(Tlb(),Klb),c)}\nfunction ylb(a,b){var c;if(b==null)throw new Xld;hsd(a.c,b.toLowerCase());c=new $lb;RJc(a.d,(Tlb(),Llb),c)}\nfunction ykb(a,b){var c;c=new jslink.Zkb;b?RJc(a.k,(jslink.Vkb(),jslink.Rkb),c):RJc(a.k,(jslink.Vkb(),jslink.Skb),c)}\nfunction Tsb(a,b,c,d,e){this.d=new jslink.tjd;this.c=c;ykb(c,false);jslink.xkb(c,this.d);this.e=new isb(a,b,d,e)}\nfunction isb(a,b,c,d){this.d=new bsd;this.c=d;this.d.Cg(jslink.pWd,new lsb(a,b,c));this.d.Cg(HYd,new Asb(b))}\nfunction Zhb(a,b){Vhb();a!=null&&(a=a.toLowerCase());return jslink.mYd+$hb(a)+Vzd+Yhb(a)+Vzd+Xhb(a)+Vzd+b+Pzd}\nfunction Xhb(a){var b,c;a!=null&&(a=a.toLowerCase());c=Whb(a);if(c==null||!c.length)return 0;c=Dmd(c,5,7);b=mkd(c,16);return b}\nfunction Yhb(a){var b,c;a!=null&&(a=a.toLowerCase());c=Whb(a);if(c==null||!c.length)return 0;c=Dmd(c,3,5);b=mkd(c,16);return b}\nfunction $hb(a){var b,c;a!=null&&(a=a.toLowerCase());c=Whb(a);if(c==null||!c.length)return 0;c=Dmd(c,1,3);b=mkd(c,16);return b}\nfunction kHb(b){try{return fmb(b.c.e.toUpperCase())}catch(a){a=aZ(a);if(yt(a,411)){return dmb(),bmb}else throw _Y(a)}}\nfunction nHb(b){try{return Emb(OUb(b.c,qCd).toUpperCase())}catch(a){a=aZ(a);if(yt(a,411)){return Cmb(),Bmb}else throw _Y(a)}}\nfunction QIb(a){var b=$wnd.$pdk.jQuery;var c=b(dBd+a).find(\'[id$=".player"]\');if(c.size()>0)return c.get(0);return null}\nfunction Vsb(a){var b;b=new Tsb(EMb(rLb(a.c)),jslink.Zmb(jslink.gLb(a.c)),jslink.lib(jslink.YKb(a.c)),JWb(vLb(a.c)),ulb(dLb(a.c)));return b}\nfunction MWb(a,b){if(b){jg((jslink.Q$(),a.S).style,1);a.S.style[wDd]=0+(Lj(),hDd)}else{jg((jslink.Q$(),a.S).style,0);a.S.style[wDd]=-9999+(Lj(),hDd)}}\nfunction Ppb(b){var c,d,e;c=null;if(b.Bc()){try{d=b.tS();e=(vs(),Cs(d));!!e.Bc()&&(c=new sib(e.Bc().c))}catch(a){a=aZ(a);if(!yt(a,409))throw _Y(a)}}return c}\nfunction Rib(a){var b,c,d,e,f;f=new bsd;if(!a.c?null:a){for(c=Pib(a),d=0,e=c.length;d<e;++d){b=c[d];wt(a.c.Ag(b),127).Zd()!=null&&f.Cg(b,wt(a.c.Ag(b),127).Zd())}}return f}\nfunction Flb(a,b,c){var d;d=(Ijd(),Ijd(),Hjd);switch(b.d){case 3:d=c==(smb(),omb)&&a.c.c.c.Jc()==0?Hjd:Gjd;break;case 6:d=c==(smb(),rmb)&&a.c.c.c.Jc()==0?Hjd:Gjd;}return d.c}\nfunction Cmb(){Cmb=twd;Bmb=new Dmb(\'WINDOW\',0);ymb=new Dmb(\'GPU\',1);xmb=new Dmb(\'DIRECT\',2);zmb=new Dmb(\'OPAQUE\',3);Amb=new Dmb(\'TRANSPARENT\',4);wmb=nt(VX,ywd,137,[Bmb,ymb,xmb,zmb,Amb])}\nfunction Epb(a,b){var c,d,e,f,g;d=null;c=null;f=b.c.length;for(e=0;e<f;e++){g=Vq(b,e);if(!g)continue;switch(e){case 0:!!g.Cc()&&(d=g.Cc().c);break;case 1:!!g.Cc()&&(c=g.Cc().c);}}jslink.inb(a.c,d,c)}\nfunction pjb(a){var b;if($wnd.$pdk&&$wnd.$pdk.jQuery)b=$wnd.$pdk.jQuery;else if($wnd.$){b=$wnd.$;$wnd.$pdk.jQuery=b}else{var c=$doc.createElement(zCd);c.innerHTML=a;$doc.body.appendChild(c.childNodes[0]);return}b($doc.body).append(a)}\nfunction enb(a,b,c,d,e,f,g,j){var n,o;if(b==null&&c==null)throw new Yld(\'deck id and card id were both null\');j=j<0?1:j;n=wt(a.o.Ag(b),128);if(!n){n=new cjb;a.o.Cg(b,n)}o=new Lib;o.e=c;o.i=d;o.c=e;o.d=f;o.f=g;o.j=j;dob(n.c,o);!!a.p&&Bpb(a.p,b,c)}\nfunction smb(){smb=twd;nmb=new tmb(jslink.FUd,0);pmb=new tmb(\'STARTING_WITH_FLASH\',1);qmb=new tmb(\'WAITING_TO_HIDE_PLAYER\',2);lmb=new tmb(\'HIDING_PLAYER\',3);omb=new tmb(\'SHOWING_PLAYER\',4);rmb=new tmb(\'WAITING_TO_OVERLAY_CARDS\',5);mmb=new tmb(\'OVERLAYING_CARDS\',6);kmb=nt(UX,ywd,136,[nmb,pmb,qmb,lmb,omb,rmb,mmb])}\nfunction dob(a,b){var c,d;if(a.c.yg(b)){for(d=oqd(Qod(a.c));d.c.jd();){c=wt(uqd(d),126);if(Eib(c,b)){b.j<=c.j?(Kib(c,b.j),b.i!=null&&Jib(c,b.i),!!b.c&&Gib(c,b.c),!!b.d&&Hib(c,b.d),!!b.f&&Iib(c,b.f),undefined):(c.i==null&&Jib(c,b.i),!c.c&&Gib(c,b.c),!c.d&&Hib(c,b.d),!c.f&&Iib(c,b.f),undefined);break}}}else{hsd(a,b)}}\nfunction Tlb(){Tlb=twd;Llb=new Ulb(\'CARD_SHOWN\',0);Klb=new Ulb(\'CARD_HIDDEN\',1);Slb=new Ulb(\'HAS_WMODE_WINDOW\',2);Plb=new Ulb(\'HAS_WMODE_GPU\',3);Olb=new Ulb(\'HAS_WMODE_DIRECT\',4);Qlb=new Ulb(\'HAS_WMODE_OPAQUE\',5);Rlb=new Ulb(\'HAS_WMODE_TRANSPARENT\',6);Mlb=new Ulb(\'HAS_FLASH\',7);Nlb=new Ulb(\'HAS_NO_FLASH\',8);Jlb=nt(SX,ywd,133,[Llb,Klb,Slb,Plb,Olb,Qlb,Rlb,Mlb,Nlb])}\nfunction Lpb(b,c){var d,e,f,g,j,n,o,q;j=null;f=null;g=null;d=null;o=c.c.length;for(n=0;n<o;n++){q=Vq(c,n);if(!q)continue;switch(n){case 0:!!q.Cc()&&(j=q.Cc().c);break;case 1:!!q.Cc()&&(f=q.Cc().c);break;case 2:if(q.Cc()){e=q.Cc().c.toLowerCase();try{d=stb(ymd(e.toUpperCase(),Jzd,jslink.HWd))}catch(a){a=aZ(a);if(yt(a,411)){d=(jslink.qtb(),jslink.ptb)}else throw _Y(a)}}break;case 3:g=Ppb(q);}}jslink.pnb(b.c,j,f,d,g)}\nfunction EIb(a,b){($wnd.$pdk._phase1Controllers===undefined||typeof $wnd.$pdk._phase1Controllers!==rzd)&&($wnd.$pdk._phase1Controllers={});if($wnd.ComponentController!==undefined){$wnd.$pdk._phase1Controllers[a]===undefined&&($wnd.$pdk._phase1Controllers[a]=new $wnd.ComponentController(a,{},b));return $wnd.$pdk._phase1Controllers[a]}else return new $wnd.$pdk.queue.deferred.GlobalController($wnd.$pdk.controller,a,b)}\nfunction zlb(b,c,d){var e,f;this.c=new ksd;this.d=MJc(NJc(JJc(GJc(PJc(JJc(GJc(PJc(JJc(GJc(PJc(JJc(GJc(PJc(JJc(GJc(PJc(JJc(GJc(JJc(GJc(JJc(GJc(JJc(GJc(JJc(GJc(PJc(JJc(GJc(PJc(QJc(new SJc,(smb(),nmb)),nmb),(Tlb(),Mlb)),pmb).c,pmb),Slb),qmb),Plb),qmb),Olb),qmb),Qlb),rmb),Rlb),rmb).c,rmb),Llb),mmb).c,qmb),Llb),lmb).c,mmb),Klb),rmb).c,lmb),Klb),omb).c,omb),Llb),lmb).c,new Clb(b)),new Glb(this));e=new $lb;RJc(this.d,d==(dmb(),bmb)?Mlb:Nlb,e);try{f=Vlb(\'HAS_WMODE_\'+c.c.toUpperCase())}catch(a){a=aZ(a);if(yt(a,409)){f=Slb}else throw _Y(a)}RJc(this.d,f,e)}\nfunction Apb(b,c){var d,e,f,g,j,n,o,q,r,s,t,u,v,w,A;n=null;f=null;g=null;q=null;j=null;d=null;t=-1;u=c.c.length;for(o=0;o<u;o++){w=Vq(c,o);if(!w)continue;switch(o){case 0:!!w.Cc()&&(n=w.Cc().c);break;case 1:!!w.Cc()&&(f=w.Cc().c);break;case 2:if(w.Bc()){e=w.Bc().c;v=$doc.createElement(zCd);v.appendChild(e);g=v.innerHTML}!!w.Cc()&&(g=w.Cc().c);break;case 3:if(w.Cc()){try{d=stb(ymd(w.Cc().c.toUpperCase(),Jzd,jslink.HWd))}catch(a){a=aZ(a);if(yt(a,411)){d=null}else throw _Y(a)}}break;case 4:j=Ppb(w);break;case 5:if(w.Bc()){s=w.Bc().c;s=Opb(s);r=s;A=new Nmb;Pmb(r,Mmb(A));q=r}break;case 6:!!w.Ac()&&(t=Ct((new ukd(MZ(xZ(jslink.Uld(w.Ac().c))))).c));}}enb(b.c,n,f,g,d,j,q,t)}\nfunction Mqb(a,b,c){this.e=a;this.d=new Pqb(this);this.c=new krb(this);this.o=new orb(this);this.k=new srb(this);this.p=new wrb(this);this.f=new Arb(this);this.i=new Erb(this);this.u=new Irb(this);this.w=new Mrb(this);this.n=new Tqb(this);this.j=new Xqb(this);this.t=new _qb(this);this.A=new drb(this);this.q=new grb(this);sVb(c,MCd,this.d);sVb(c,NCd,this.c);sVb(c,jslink.QTd,this.o);sVb(c,FYd,this.k);sVb(c,GYd,this.p);sVb(c,AYd,this.q);sVb(b,MCd,this.d);sVb(b,NCd,this.c);sVb(b,jslink.QTd,this.o);sVb(b,FYd,this.k);sVb(b,GYd,this.p);sVb(b,DYd,this.f);tVb(b,TCd,this.i);sVb(b,PCd,this.u);tVb(b,DDd,this.w);sVb(b,jslink.STd,this.n);sVb(b,jslink.RTd,this.j);sVb(b,\'OnResetPlayer\',this.t);tVb(b,jslink.RXd,this.A);sVb(b,AYd,this.q)}\nfunction Npb(a,b,c){this.c=a;this.j=b;this.c.p=this;this.k=new Rpb(this);this.i=new aqb(this);this.d=new dqb(this);this.e=new hqb(this);this.n=new lqb(this);this.o=new pqb(this);this.f=new tqb(this);zVb(b,yYd,new xqb(this));zVb(b,\'showPlayerCard\',new Bqb(this));zVb(b,\'hidePlayerCard\',new Vpb(this));sVb(b,OCd,this.d);sVb(b,zYd,this.d);sVb(b,AYd,this.k);sVb(b,jslink.QTd,this.e);sVb(b,jslink.QXd,this.i);sVb(b,BYd,this.i);sVb(b,CYd,this.n);sVb(b,DYd,this.o);sVb(b,TCd,this.o);sVb(b,PCd,this.o);sVb(b,EYd,this.f);sVb(c,OCd,this.d);sVb(c,zYd,this.d);sVb(c,AYd,this.k);sVb(c,jslink.QTd,this.e);sVb(c,jslink.QXd,this.i);sVb(c,BYd,this.i);sVb(c,CYd,this.n);sVb(c,DYd,this.o);sVb(c,TCd,this.o);sVb(c,PCd,this.o);sVb(c,EYd,this.f);zVb(c,yYd,new Zpb(this))}\nfunction bib(a){var b;Vhb();!!a&&Rod(Uhb,a);b=(jslink.Xp(),\'.tpPlayer .tpPlayerCard{position:absolute;color:\'+Whb(nYd)+\';top:0;left:0;right:0;bottom:0;background:\'+Zhb($Fd,oYd)+\';text-align:left;}.tpPlayer .tpOverlayBackground{position:absolute;width:100%;height:100%;background:\'+Zhb($Fd,oYd)+\';}.tpPreviewPlayer .tpCurrentTime{left:20px;top:20px;font-size:20px;color:\'+Whb(nYd)+\';text-shadow:0 0 3px \'+Whb(pYd)+qYd+Whb(pYd)+qYd+Whb(pYd)+\';}:-webkit-full-screen .tpPlayerCard>*{zoom:2;content:"a";}:-webkit-full-screen .tpRelatedHeader{zoom:2;content:"b";}:-webkit-full-screen .tpRelatedFooter{zoom:2;content:"c";}:-webkit-full-screen .tpRelatedItems{zoom:1;}.tpLineFade{width:100%;height:12px;position:absolute;bottom:0;right:0;background:-moz-linear-gradient(top, \'+Zhb($Fd,jslink.HSd)+rYd+Zhb($Fd,sYd)+\' 100%);background:-webkit-gradient(linear, left top, left bottom, color-stop(0, \'+Zhb($Fd,jslink.HSd)+\'), color-stop(100%, \'+Zhb($Fd,sYd)+\'));background:-webkit-linear-gradient(top, \'+Zhb($Fd,jslink.HSd)+rYd+Zhb($Fd,sYd)+\' 100%);background:-o-linear-gradient(top, \'+Zhb($Fd,jslink.HSd)+rYd+Zhb($Fd,sYd)+\' 100%);background:-ms-linear-gradient(top, \'+Zhb($Fd,jslink.HSd)+rYd+Zhb($Fd,sYd)+\' 100%);background:linear-gradient(to bottom, \'+Zhb($Fd,jslink.HSd)+rYd+Zhb($Fd,sYd)+\' 100%);filter:progid;}.tpOverlayCard{pointer-events:none !important;}.tpPlayerCard input[type="text"],.tpPlayerCard input[type="password"],.tpPlayerCard textarea,.tpPlayerCard .tpTextInput{color:\'+Whb(nYd)+tYd+Whb(uYd)+vYd+Whb(pYd)+\';margin:1px !important;padding:0;resize:none;-webkit-appearance:none;-webkit-border-radius:0;}.tpPlayerCard select{color:\'+Whb(nYd)+tYd+Whb(uYd)+vYd+Whb(pYd)+\';margin:1px !important;padding:0;resize:none;-webkit-border-radius:0;}.tpPlayer .tpPlayerCard a img{border:0;}.tpControlBackground{background:\'+Whb(wYd)+\';}.tpControlBorder{border-color:\'+Whb(uYd)+\';}.tpPlayerCard.tpMenuCard{text-align:center;background:\'+Zhb($Fd,oYd)+\';}.tpPlayerCard.tpResumePlaybackCard{text-align:center;}.tpPlayerCard .tpMenuButtons{position:absolute;top:50%;width:100%;margin-top:-25px;font-size:0;}.tpMenuCard .tpMenuButtons .tpButton{width:50px;height:50px;margin-right:12px;}.tpMenuCard .tpMenuButtons .tpButton:last-child{margin-right:0;}.tpMenuCard .tpRelatedItems{position:absolute;bottom:0;left:0;}.tpMenuCard .tpMenuButtons.tpHasRelated{top:30%;}.tpRelatedItems{width:100%;height:40%;background:\'+Zhb($Fd,oYd)+\';}.tpRelatedItems .tpRelatedHeader{text-align:left;height:25px;border-bottom:1px solid \'+Whb(uYd)+\';line-height:25px;}.tpRelatedItems .tpRelatedHeader .tpRange{float:right;margin-right:40px;}.tpRelatedItems .tpRelatedHeader .tpLabel{float:left;margin-left:39px;}.tpRelatedItems .tpRelatedPrevious{float:left;width:30px;height:30px;}.tpRelatedItems .tpRelatedNext{float:left;width:30px;height:30px;margin-left:10px;}.tpRelatedItems .tpRelatedTiles{float:left;display:inline-block;position:relative;}.tpRelatedItems .tpRelatedTiles .tpRelatedTile{display:inline-block;margin-left:10px;font-size:14px;overflow:hidden;position:relative;}.tpRelatedItems .tpRelatedTiles .tpRelatedTile img{border:1px solid \'+Whb(uYd)+\';}.tpRelatedTile .tpRelatedInfo{float:right;text-align:left;margin-left:4px;}.tpRelatedTile h4{margin:0;padding:0;font-size:14px;}.tpRelatedTile span{margin:0;padding:0;font-size:12px;}.tpRelatedItems .tpRelatedFooter{text-align:left;height:25px;line-height:25px;clear:both;margin-left:39px;white-space:nowrap;overflow:hidden;}a.tpButton,div.tpButton{display:inline-block;padding:0;margin:0;border:0;}.tpButton>span{display:inline-block;padding:2px 6px 2px 6px;}.tpResumePlaybackCard .tpMenuButtons .tpButton{width:100px;height:40px;}.tpInfoCard .tpCardBody{padding-bottom:26px !important;overflow:hidden;text-overflow:ellipsis;}.tpInfoCard .tpCardContent{height:100%;overflow:hidden;text-overflow:ellipsis;margin-left:4px;}.tpInfoCard .tpMediaPreview{margin-right:6px;margin-bottom:6px;}.tpInfoCard .tpMetaData>span{margin-bottom:4px;display:block;}.tpMetaData{font-size:14px;}.tpCardHeadline .tpTitle{font-size:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:6px;margin-top:6px;}.tpMetaData .tpTitle{font-size:16px;}.tpInfoCard .tpCardExtras{font-size:14px;text-align:left;}.tpInfoCard .tpCopyright{position:absolute;bottom:6px;left:6px;font-size:11px;}.tpRssCard .tpCardForm{width:100%;height:100%;position:relative;float:left;}.tpCopyable::selection,.tpCopyable::-moz-selection{background:\'+Zhb(\'controlSelectedColor\',\'0.75\')+xYd+Whb(wYd)+\';}.tpPlayerCard{position:relative;}.tpPlayerCard .tpCardHeader{height:26px;padding-left:4px;padding-right:4px;padding-top:0;position:relative;}.tpPlayerCard .tpCardBody{position:absolute;top:0;bottom:0;right:0;left:0;margin-top:25px;padding:2px;background:\'+Zhb($Fd,oYd)+\';}.tpPlayerCard .tpCardBody .tpCardHeadline h3{margin-top:4px;margin-bottom:8px;font-size:16px;}.tpPlayerCard .tpCardHeader .tpCardTitle{position:absolute;top:2px;left:2px;right:0;line-height:22px;font-size:15px;font-weight:bolder;}.tpPlayerCard .tpCardHeader .tpCardTitle .tpIcon{margin-left:2px;margin-right:2px;width:22px;height:22px;}.tpPlayerCard .tpCardHeader .tpCardTabs{position:absolute;padding-top:3px;top:0;bottom:0;left:0;right:0;font-size:0;text-align:center;z-index:1;}.tpPlayerCard .tpCardHeader .tpCardTabs .tpNavButton{display:inline-block;margin:0;padding:0;width:30px;height:22px;font-size:auto;}.tpPlayerCard .tpCardHeader .tpCardClose{position:absolute;top:2px;right:6px;z-index:10;}.tpMediaPreview,.tpPreview{width:50%;height:50%;float:left;position:relative;top:0;left:0;background:\'+Whb($Fd)+\';overflow:hidden;}.tpPreviewPlayer{border:1px solid \'+Whb(uYd)+\';position:absolute;top:0;left:0;bottom:0;right:0;}.tpMediaPreview .tpMediaBorder{position:absolute;top:0;left:0;right:0;bottom:0;border:1px solid white;}.tpMediaPreview img{width:100%;height:auto;padding:0;}.tpCardForm{width:50%;height:50%;position:relative;float:left;}.tpCardForm>div{position:absolute;top:0;left:4px;right:4px;bottom:0;}.tpCardForm h4{margin-left:4px;margin-right:0;margin-bottom:2px;margin-top:4px;font-size:15px;font-weight:normal;color:\'+Whb(nYd)+\';}.tpCardForm input[type="text"],.tpCardForm textarea{width:100%;font-family:inherit;padding:0 0 0 2px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:auto;font-size:13px;}.tpCardForm ul{padding:2px;list-style:none;background-color:\'+Whb(pYd)+\';margin-top:0;margin-bottom:0;margin-left:0;margin-right:0;border:1px solid \'+Whb(uYd)+xYd+Whb(nYd)+\';overflow-x:hidden;overflow-y:hidden;top:24px;bottom:30px;left:2px;right:0;position:absolute;}.tpCardForm .tpPostSiteList{padding:8px;bottom:0;margin:4px;overflow-x:hidden;overflow-y:hidden;}.tpCardForm .tpFormActions{position:absolute;bottom:0;right:0;}.tpCardForm ul li{float:left;font-size:13px;margin-bottom:8px;width:100%;word-wrap:break-word;}.tpCardForm .tpPostSiteList li{width:50%;white-space:nowrap;overflow-x:hidden;overflow-y:hidden;}.tpCardForm ul li a{color:\'+Whb(nYd)+\';text-decoration:none;}.tpCardForm ul li a:hover{text-decoration:underline;}.tpCardForm ul li img{vertical-align:bottom;margin-right:8px;}.tpCardExtras{float:left;width:100%;height:50%;margin:0;font-size:14px;text-align:center;position:relative;}.tpExcerptControls{position:absolute;left:50px;right:50px;top:0;bottom:0;height:30px;margin:auto;display:inline-block;}.tpExcerptInfo{position:absolute;left:20px;right:20px;top:0;bottom:50%;height:16px;margin:auto;display:inline-block;}.tpCardTitle .tpIcon{float:left;}\');if(!aib){b!=null&&!!b.length&&Dl(jib(b,a));aib=true}}\nfunction qjb(a,b){var c,d,e,f,g,j;bib(Rib(a.e.c));Ijd();if(qmd(tCd,OUb(a.d,\'usedefaultcards\'))){c=(j=new lnd,Jf(j.c,\'<div style="display: none">\\n\\t<!-- tpMenuCard -->\\n\\t<div class="tpPlayerCard tpMenuCard" id="tpMenuCard">\\n\\t\\t<div class="tpMenuButtons">\\n\\t\\t\\t<div class="tpButton tpShare" tp:label="${share}" tp:icon="IconShare_big" tp:direction="vertical" ><div class="tpAsset" tp:name="IconShare"><\\/div>${share}<\\/div>\\n\\t\\t\\t<div class="tpButton tpRSS" tp:label="${rss}" tp:icon="IconRSS_big" tp:direction="vertical"><span class="tpAsset" tp:name="IconShare"><\\/span><br/>${rss}<\\/div>\\n\\t\\t\\t<div class="tpButton tpInfo" tp:label="${info}" tp:icon="IconInfo_big" tp:direction="vertical" ><span class="tpAsset" tp:name="IconShare"><\\/span><br/>${info}<\\/div>\\n\\t\\t<\\/div>\\n\\t\\t<div class="tpRelatedItems">\\n\\t\\t\\t<div class="tpRelatedHeader">\\n\\t\\t\\t\\t<span class="tpLabel">${label}<\\/span><span class="tpRange"><\\/span>\\n\\t\\t\\t<\\/div>\\n\\t\\t\\t<div class="tpNavButton tpRelatedPrevious" tp:icon="IconRIPrevious" onclick=""><\\/div>\\n\\t\\t\\t<div class="tpRelatedTiles">\\n\\t\\t\\t<\\/div>\\n\\t\\t\\t<div class="tpNavButton tpRelatedNext" tp:icon="IconRINext" onclick=""><\\/div>\\n\\t\\t\\t<div class="tpRelatedFooter">\\n\\t\\t\\t\\t<span class="tpTitle"><\\/span>\\n\\t\\t\\t<\\/div>\\n\\t\\t<\\/div>\\n\\t<\\/div>\\n\\n\\t<!-- tpRssCard -->\\n\\t<div class="tpPlayerCard tpRssCard" id="tpRssCard">\\n\\t\\t<div class="tpCardHeader">\\n\\t\\t\\t<div class="tpCardTitle">\\n\\t\\t\\t\\t<div class="tpIcon tpAsset" tp:name="IconRSS_big"><\\/div>${title}\\n\\t\\t\\t<\\/div>\\n\\t\\t\\t<div class="tpCardClose">\\n\\t\\t\\t\\t<div class="tpButton" tp:label="${close}"><span>${close}<\\/span><\\/div>\\n\\t\\t\\t<\\/div>\\n\\t\\t<\\/div>\\n\\t\\t<div class="tpCardBody">\\n\\t\\t\\t<div class="tpCardForm">\\n\\t\\t\\t\\t<div class="tpRssForm">\\n\\t\\t\\t\\t\\t<h4 class="tpInstructions">${instructions}:<\\/h4>\\n\\t\\t\\t\\t\\t<div class="tpControlBorder"><\\/div>\\n\\t\\t\\t\\t\\t<ul class="tpRssLinkList">\\n\\t\\t\\t\\t\\t\\t<li class="tpRss tpCopyable">${player.rssurl}<\\/li>\\n\\t\\t\\t\\t\\t<\\/ul>\\n\\t\\t\\t\\t\\t<div class="tpFormActions">\\n\\t\\t\\t\\t\\t\\t<div class="tpButton" tp:label="${select}"><span>${select}<\\/span><\\/div>\\n\\t\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t<\\/div>\\n\\t\\t<\\/div>\\n\\t<\\/div>\\n\\n\\t<!-- tpInfoCard -->\\n\\t<div class="tpPlayerCard tpInfoCard" id="tpInfoCard">\\n\\t\\t<div class="tpCardHeader">\\n\\t\\t\\t<div class="tpCardTitle">\\n\\t\\t\\t\\t<div class="tpIcon tpAsset" tp:name="IconInfo"><\\/div>${title}\\n\\t\\t\\t<\\/div>\\n\\t\\t\\t<div class="tpCardClose">\\n\\t\\t\\t\\t<div class="tpButton" tp:label="${close}"><span>${close}<\\/span><\\/div>\\n\\t\\t\\t<\\/div>\\n\\t\\t<\\/div>\\n\\t\\t<!-- Preview / UI -->\\n\\t\\t<div class="tpCardBody">\\n\\t\\t\\t<div class="tpCardContent">\\n\\t\\t\\t\\t<div class="tpCardHeadline"><h3 class="tpTitle">$!{release.title}<\\/h3><\\/div>\\n\\t\\t\\t\\t<div class="tpMediaPreview">\\n\\t\\t\\t\\t\\t<div class="tpMediaBorder"><\\/div>\\n\\t\\t\\t\\t\\t<img />\\n\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t<span class="tpMetaData">\\n\\t\\t\\t\\t\\t<span class="tpChapterTitle">$!{clip.chapter.title}<\\/span>\\n\\t\\t\\t\\t\\t<span class="tpDuration">$!{release.length}<\\/span>\\n\\t\\t\\t\\t\\t<span class="tpCategories"><\\/span>\\n\\t\\t\\t\\t\\t<span class="tpAuthor">$!{release.author}<\\/span>\\n\\t\\t\\t\\t\\t<span class="tpRatings"><\\/span>\\n\\t\\t\\t\\t\\t<span class="tpDescription">$!{release.description}<\\/span>\\n\\t\\t\\t\\t<\\/span>\\n\\t\\t\\t\\t<div class="tpCardExtras">\\n\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t<\\/div>\\t\\t\\t\\n\\t\\t\\t<div class="tpCopyright">&copy; $!{release.copyright}<\\/div>\\n\\t\\t<\\/div>\\n\\t<\\/div>\\n\\n\\t<!-- tpErrorCard -->\\n\\t<div class="tpPlayerCard tpErrorCard" id="tpErrorCard">\\n\\t\\t<div class="tpCardHeader">\\n\\t\\t\\t<div class="tpCardTitle">\\n\\t\\t\\t\\t${title}\\n\\t\\t\\t<\\/div>\\n\\t\\t\\t<div class="tpCardClose">\\n\\t\\t\\t\\t<div class="tpButton" tp:label="${close}" onclick="$pdk.controller.hidePlayerCard(\\\'forms\\\', \\\'tpErrorCard\\\', [\\\'*\\\']);"><span>${close}<\\/span><\\/div>\\n\\t\\t\\t<\\/div>\\n\\t\\t<\\/div>\\n\\t\\t<!-- Preview / UI -->\\n\\t\\t<div class="tpCardBody">\\n\\t\\t\\t<span class="tpMessage">${message}<\\/span>\\n\\t\\t<\\/div>\\n\\t<\\/div>\\n\\t\\n\\t<!-- tpShareCard -->\\n\\t<div class="tpPlayerCard tpShareCard" id="tpShareCard">\\n\\t\\t\\t<!-- Post, Email, Link, Embed -->\\n\\t\\t\\t<div class="tpCardHeader">\\n\\t\\t\\t\\t<div class="tpCardTitle">\\n\\t\\t\\t\\t\\t<div class="tpIcon tpAsset" tp:name="IconShare_big"><\\/div>${title}\\n\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t<div class="tpCardTabs">\\n\\t\\t\\t\\t\\t<div class="tpNavButton" tp:icon="IconPost_big" href="#tpPostForm">&nbsp;<\\/div>\\n\\t\\t\\t\\t\\t<div class="tpNavButton" tp:icon="IconPost_big" href="#tpPostForm" tp:selected="true">&nbsp;<\\/div>\\n\\t\\t\\t\\t\\t<div class="tpNavButton" tp:icon="IconMail_big" href="#tpEmailForm">&nbsp;<\\/div>\\n\\t\\t\\t\\t\\t<div class="tpNavButton" tp:icon="IconMail_big" href="#tpEmailForm" tp:selected="true">&nbsp;<\\/div>\\n\\t\\t\\t\\t\\t<div class="tpNavButton" tp:icon="IconLink_big"  href="#tpLinkForm">&nbsp;<\\/div>\\n\\t\\t\\t\\t\\t<div class="tpNavButton" tp:icon="IconLink_big"  href="#tpLinkForm" tp:selected="true">&nbsp;<\\/div>\\n\\t\\t\\t\\t\\t<div class="tpNavButton" tp:icon="IconEmbed_big" href="#tpEmbedForm">&nbsp;<\\/div>\\n\\t\\t\\t\\t\\t<div class="tpNavButton" tp:icon="IconEmbed_big" href="#tpEmbedForm" tp:selected="true">&nbsp;<\\/div>\\n\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t<div class="tpCardClose">\\n\\t\\t\\t\\t\\t<div class="tpButton" tp:label="${close}"><span>${close}<\\/span><\\/div>\\n\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t<\\/div>\\n\\t\\t\\t<!-- Preview / UI -->\\n\\t\\t\\t<div class="tpCardBody">\\n\\t\\t\\t\\t<div class="tpPreview">\\n\\t\\t\\t\\t\\t<div class="tpPreviewPlayer"><\\/div>\\n\\t\\t\\t\\t\\t<div class="tpPreviewBlocker" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0;"><\\/div>\\n\\t\\t\\t\\t<\\/div>\\n\\n\\t\\t\\t\\t<div class="tpCardForm">\\n\\t\\t\\t\\t\\t<!-- Post Form -->\\n\\t\\t\\t\\t\\t<div class="tpPostForm">\\n\\t\\t\\t\\t\\t\\t<h4 class="tpInstructions">${post}:<\\/h4>\\n\\t\\t\\t\\t\\t\\t<div class="tpControlBorder"><\\/div>\\n\\t\\t\\t\\t\\t\\t<ul class="tpPostSiteList">\\n\\t\\t\\t\\t\\t\\t<\\/ul>\\n\\t\\t\\t\\t\\t<\\/div>\\n\\n\\t\\t\\t\\t\\t<!-- Email Form -->\\n\\t\\t\\t\\t\\t<div class="tpEmailForm">\\n\\t\\t\\t\\t\\t\\t<input class="tpEmailTo" type="text" value="${to}" /><input class="tpEmailFrom" type="text" value="${from}" />\\n\\t\\t\\t\\t\\t\\t<textarea class="tpEmailMessage">${message}<\\/textarea>\\n\\t\\t\\t\\t\\t\\t<div class="tpFormActions">\\n\\t\\t\\t\\t\\t\\t\\t<div class="tpSend tpButton" tp:label="${send}"><span>${send}<\\/span><\\/div>\\n\\t\\t\\t\\t\\t\\t\\t<div class="tpCancel tpButton" tp:label="${cancel}"><span>${cancel}<\\/span><\\/div>\\n\\t\\t\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t\\t<\\/div>\\n\\n\\t\\t\\t\\t\\t<!-- Link Form -->\\n\\t\\t\\t\\t\\t<div class="tpLinkForm">\\n\\t\\t\\t\\t\\t\\t<h4 class="tpInstructions">${link}:<\\/h4>\\n\\t\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t\\t<li class="tpLink tpCopyable">${player.playerUrl}<\\/li>\\n\\t\\t\\t\\t\\t\\t<\\/ul>\\n\\t\\t\\t\\t\\t\\t<div class="tpFormActions">\\n\\t\\t\\t\\t\\t\\t\\t<div class="tpButton tpSelect" tp:label="${select}"><span>${select}<\\/span><\\/div>\\n\\t\\t\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t\\t<\\/div>\\n\\n\\t\\t\\t\\t\\t<!-- Code Form -->\\n\\t\\t\\t\\t\\t<div class="tpEmbedForm">\\n\\t\\t\\t\\t\\t\\t<h4 class="tpInstructions">${embed}:<\\/h4>\\n\\t\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t\\t<!-- We need to add the embed code programmatically, so we can encode it -->\\n\\t\\t\\t\\t\\t\\t\\t<li class="tpEmbed tpCopyable"><\\/li>\\n\\t\\t\\t\\t\\t\\t<\\/ul>\\n\\t\\t\\t\\t\\t\\t<div class="tpFormActions">\\n\\t\\t\\t\\t\\t\\t\\t<div class="tpButton tpSelect" tp:label="${select}"><span>${select}<\\/span><\\/div>\\n\\t\\t\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t<\\/div>\\n\\n\\t\\t\\t\\t<!-- info / excerpts -->\\n\\t\\t\\t\\t<div class="tpCardExtras">\\n\\t\\t\\t\\t\\t<div class="tpExcerptInfo">${label}<\\/div>\\n\\t\\t\\t\\t\\t<div class="tpExcerptControls">\\n\\t\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t\\t<\\/div>\\n\\t\\t\\t<\\/div>\\n\\t\\t<\\/div>\\n\\t\\t\\n\\t\\t<script type="text/javascript">\\n\\t\\t\\t$pdk.cards = {};\\n\\t\\t\\t\\n\\t\\t\\t$pdk.cards.presenters = {};\\n\\n\\t\\t\\t/* Move this into a bundle! */\\n\\t\\t\\t\\n\\t\\t\\t$pdk.ns("pdk.util");\\n\\t\\t\\t$pdk.ns("pdk.util.Strings");\\n\\n\\t\\t\\t$pdk.util.getXMLHttpRequestObject = function()\\n\\t\\t\\t{\\n\\t\\t\\t    var ref = null;\\n\\t\\t\\t    // this is some IE8+ specific XmlHttpRequest object that supports CORS\\n\\t\\t\\t    if (window.XDomainRequest)\\n\\t\\t\\t    {\\n\\t\\t\\t    \\tref = new XDomainRequest();\\n\\t\\t\\t    }\\n\\t\\t\\t    else if (window.XMLHttpRequest)\\n\\t\\t\\t    {\\n\\t\\t\\t        ref = new XMLHttpRequest();\\n\\t\\t\\t    }\\n\\t\\t\\t    else if (window.ActiveXObject)\\n\\t\\t\\t    { // Older IE.\\n\\t\\t\\t        ref = new ActiveXObject("MSXML2.XMLHTTP.3.0");\\n\\t\\t\\t    }\\n\\t\\t\\t    return ref;\\n\\t\\t\\t}\\n\\t\\t\\t\\n\\t\\t\\t$pdk.util.Strings.doUrlSubstitutions = function(original, vars, start, end)\\n\\t\\t\\t{\\n\\t\\t\\t\\tvar url = original;\\n\\n\\t\\t\\t\\tif (vars.release && vars.release.title)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\turl = url.replace(/\\\\{title\\\\}/gi, escape(vars.release.title));\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\telse\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\turl = url.replace(/\\\\{title\\\\}/gi, escape(\\\'\\\'));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (vars.release && vars.release.url)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tconsole.log(vars.release.url.split("/")[6]);\\n\\t\\t\\t\\t\\tconsole.log(vars.release.url);\\n\\t\\t\\t\\t\\turl = url.replace(/\\\\{releasePid\\\\}/gi, vars.release.url.split("?")[0].split("/")[5]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\telse if (vars.release && vars.release.pid)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\turl = url.replace(/\\\\{releasePid\\\\}/gi, vars.release.pid);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\telse if (vars.clip)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\turl = url.replace(/\\\\{releasePid\\\\}/gi, vars.clip.releasePID);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (vars.release && vars.release.guid)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\turl = url.replace(/\\\\{guid\\\\}/gi, vars.release.guid);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\telse if (vars.clip && vars.clip.baseClip)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\turl = url.replace(/\\\\{guid\\\\}/gi, vars.clip.baseClip.guid);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (vars.player)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t// if this url has a {playerUrl} token, apply t=start-end on the inner, encoded player Url\\n\\t\\t\\t\\t\\tif (url.match(/\\\\{playerUrl\\\\}/i))\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tvar purl = vars.player.playerurl;\\n\\t\\t\\t\\t\\t\\tif (start)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tvar delimit = (purl.indexOf("?") >= 0 ? "&" : "?");\\n\\t\\t\\t\\t\\t\\t\\tpurl += delimit + "t=" + Math.floor(start) + (end ? "-" + Math.floor(end) : "");\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\turl = url.replace(/\\\\{playerUrl\\\\}/gi, escape($pdk.util.Strings.doUrlSubstitutions(purl.replace(/\\\\{playerUrl\\\\}/gi, \\\'\\\'), vars)));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t// otherwise, this url must be the playerUrl, so append to the main url\\n\\t\\t\\t\\t\\telse if (start)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t// if this is actually an HTML blob\\n\\t\\t\\t\\t\\t\\tif (url.indexOf("<") == 0 || url.indexOf("&lt;") == 0)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tvar regex = /(src=[\\\'"])(.*?)([\\\'"])/;\\n\\t\\t\\t\\t\\t\\t\\tif (url.match(regex))\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tvar delimit = (url.match(regex)[2].indexOf("?") >= 0 ? "&" : "?");\\n\\t\\t\\t\\t\\t\\t\\t\\turl = url.replace(regex, "$1$2" + delimit + "t=" + Math.floor(start) + (end ? "-" + Math.floor(end) : "") + "$3");\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tvar delimit = (url.indexOf("?") >= 0 ? "&" : "?");\\n\\t\\t\\t\\t\\t\\t\\turl += delimit + "t=" + Math.floor(start) + (end ? "-" + Math.floor(end) : "");\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn url;\\n\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter = function() {\\n\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.centerTiles = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar regionHeight = $pdk.jQuery(this.card).find(".tpRelatedItems").outerHeight() - $pdk.jQuery(this.card).find(".tpRelatedHeader").outerHeight() - $pdk.jQuery(this.card).find(".tpRelatedFooter").outerHeight();\\n\\t\\t\\t\\t\\tvar tileHeight = 0;\\n\\t\\t\\t\\t\\tvar originalWidth = 0;\\n\\n\\t\\t\\t\\t\\tvar tiles = $pdk.jQuery(this.card).find(".tpRelatedTile");\\n\\n\\t\\t\\t\\t\\tfor (var i=0; i<tiles.length; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttileHeight = Math.floor(Math.max(tileHeight, $pdk.jQuery(tiles[i]).outerHeight()));\\n\\t\\t\\t\\t\\t\\toriginalWidth = Math.floor(Math.max(originalWidth, $pdk.jQuery(tiles[i]).outerWidth()));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (tileHeight > regionHeight)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttiles.css("height", (regionHeight - 4) + "px");\\n\\t\\t\\t\\t\\t\\ttiles.find("img").css("width", "");\\n\\t\\t\\t\\t\\t\\ttiles.find("img").css("height", regionHeight-6);\\n\\t\\t\\t\\t\\t\\tvar newWidth = (regionHeight - 4) * originalWidth / tileHeight;\\n\\t\\t\\t\\t\\t\\ttiles.css("padding-right", Math.floor((originalWidth - newWidth - 2)/2) + "px");\\n\\t\\t\\t\\t\\t\\ttiles.css("padding-left", Math.floor((originalWidth - newWidth - 2)/2) + "px");\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// since the tile was resized, let\\\'s find the height again...\\n\\t\\t\\t\\t\\ttileHeight = 0;\\n\\n\\t\\t\\t\\t\\tfor (var i=0; i<tiles.length; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttileHeight = Math.floor(Math.max(tileHeight, $pdk.jQuery(tiles[i]).innerHeight()));\\n\\t\\t\\t\\t\\t\\toriginalWidth = Math.floor(Math.max(originalWidth, $pdk.jQuery(tiles[i]).outerWidth()));\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ttiles.css("margin-top", ((regionHeight - tileHeight) / 2) + "px");\\n\\n\\t\\t\\t\\t\\t// this is a webkit hack to prevent delayed refresh\\n\\t\\t\\t\\t\\ttiles.css("display", "none");\\n\\t\\t\\t\\t\\ttiles.attr(\\\'offsetHeight\\\');\\n\\t\\t\\t\\t\\ttiles.css("display", "inline-block");\\n\\n\\t\\t\\t\\t\\tif (this.is_touch_device)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttiles.find(".tpRelatedInfo").css("height", (tileHeight-8) + "px");\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.showRelatedItems = function(entries, total)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar tiles = $pdk.jQuery(this.card).find(\\\'.tpRelatedTiles\\\');\\n\\t\\t\\t\\t\\tvar tile;\\n\\t\\t\\t//\\t\\tvar next = $pdk.jQuery(this.card).find(\\\'.tpRelatedNext\\\');\\n\\n\\t\\t\\t\\t\\tvar regionHeight = $pdk.jQuery(this.card).find(".tpRelatedItems").outerHeight() - $pdk.jQuery(this.card).find(".tpRelatedHeader").outerHeight() - $pdk.jQuery(this.card).find(".tpRelatedFooter").outerHeight();\\n\\t\\t\\t\\t\\tvar tileHeight = 0;\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\ttiles.empty();\\n\\n\\t\\t\\t\\t\\tfor (var i=0; i<total; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tif (i < entries.length)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\ttile = this.createRelatedTile(entries[i], total);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\ttile = this.createRelatedTile(null, total);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\ttiles.append(tile);\\n\\t\\t\\t\\t\\t\\ttileHeight = Math.max(tileHeight, $pdk.jQuery(tile).outerHeight());\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (this.rangeStart == 1)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedPrevious>div").css("opacity", "0.5");\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedPrevious>div").css("pointer-events", "none");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedPrevious>div").css("opacity", "1.0");\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedPrevious>div").css("pointer-events", "auto");\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (this.rangeStart+this.itemsPerPage-1 >= this.totalItems)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedNext>div").css("opacity", "0.5");\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedNext>div").css("pointer-events", "none");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedNext>div").css("opacity", "1.0");\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedNext>div").css("pointer-events", "auto");\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar rangeStr = this.initVars.range.replace(/{start}/gi, this.rangeStart).replace(/{end}/gi, Math.min(this.rangeStart+this.itemsPerPage-1, this.totalItems)).replace(/{total}/gi, this.totalItems);\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRange").text(rangeStr)\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedTile").css("margin-top", ((regionHeight - tileHeight) / 2) + "px");\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedNext, .tpRelatedPrevious").css("margin-top", ((regionHeight - 30) / 2) + "px");\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.createRelatedTile = function(entry, total)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar tile = document.createElement("div");\\n\\t\\t\\t\\t\\tvar a = document.createElement("a");\\n\\t\\t\\t\\t\\tvar img = document.createElement("img");\\n\\n\\t\\t\\t\\t\\tif (this.is_touch_device)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tvar info = document.createElement("div");\\n\\t\\t\\t\\t\\t\\tinfo.className = "tpRelatedInfo";\\n\\t\\t\\t\\t\\t\\tinfo.style.height = "0px";\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\timg.style.opacity = 0;\\n\\n\\t\\t\\t\\t\\tif (entry && entry.media$content[0].plfile$url)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ta.href="#";\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(a).click(function() {\\n\\t\\t\\t\\t\\t\\tme.initVars.controller.hidePlayerCard(\\\'forms\\\', \\\'tpMenuCard\\\');\\n\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.setReleaseURL(entry.media$content[0].plfile$url, true, [me.initVars.player.id]);\\n\\t\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!this.is_touch_device && entry && entry.title)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(a).hover(\\n\\t\\t\\t\\t\\t\\t\\t\\t/* MouseIn */\\n\\t\\t\\t\\t\\t\\t\\t\\tfunction() {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpRelatedFooter .tpTitle").text(entry.title);\\n\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\t/* MouseOut */\\n\\t\\t\\t\\t\\t\\t\\t\\tfunction() {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpRelatedFooter .tpTitle").text(\\\'\\\');\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ta.appendChild(img);\\n\\t\\t\\t\\t\\tif (entry && entry.plmedia$defaultThumbnailUrl)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(img).load(function(e) {\\n\\t\\t\\t\\t\\t\\t\\te.target.style.opacity = null;\\n\\t\\t\\t\\t\\t\\t\\tme.centerTiles();\\n\\t\\t\\t\\t\\t\\t})\\n\\n\\t\\t\\t\\t\\t\\timg.src = entry.plmedia$defaultThumbnailUrl;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tme.centerTiles();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif (entry && (entry.title || entry.description))\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tif (this.is_touch_device)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\ta.appendChild(info);\\n\\t\\t\\t\\t\\t\\t\\tif (this.initVars.title)\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tvar title = this.initVars.title;\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle = title.replace(/\\\\{release\\\\.title\\\\}/gi, entry.title);\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle = title.replace(/\\\\{release\\\\.description\\\\}/gi, entry.description);\\n\\t\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(info).html(title);\\n\\t\\t\\t\\t\\t\\t\\t\\tvar fade = document.createElement("div");\\n\\t\\t\\t\\t\\t\\t\\t\\tfade.className = "tpLineFade";\\n\\t\\t\\t\\t\\t\\t\\t\\tinfo.appendChild(fade);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(info).text(entry.title);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\ttile.appendChild(a);\\n\\n\\t\\t\\t\\t\\ttile.className = "tpRelatedTile";\\n\\n\\t\\t\\t\\t\\tif (this.is_touch_device)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tinfo.style.width = (($pdk.jQuery(this.initVars.card).width() - 60 - 10*total - 10) / total - 2)/2 - 10 + "px";\\n\\t\\t\\t\\t\\t\\timg.style.width = (($pdk.jQuery(this.initVars.card).width() - 60 - 10*total - 10) / total - 2)/2 + "px";\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(tile).find(".tpLineFade").css("width", info.style.width);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\timg.style.width = Math.floor(($pdk.jQuery(this.initVars.card).width() - 60 - 10*total - 10) / total - 3) + "px";\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn tile;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.nextRange = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tif (this.rangeStart <  (this.totalItems - this.itemsPerPage + 1))\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(\\\'.tpRelatedTile img\\\'\'),Jf(j.c,\').css(\\\'opacity\\\', \\\'0\\\');\\n\\t\\t\\t\\t\\t\\tthis.rangeStart += this.itemsPerPage;\\n\\t\\t\\t\\t\\t\\tthis.requestRelatedFeed();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.previousRange = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tif (this.rangeStart > this.itemsPerPage)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tthis.rangeStart -= this.itemsPerPage;\\n\\t\\t\\t\\t\\t\\tthis.requestRelatedFeed();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.hideRelatedUI = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(\\\'.tpRelatedItems\\\').hide();\\n\\t\\t\\t\\t\\tvar buttons = $pdk.jQuery(this.card).find(\\\'.tpMenuButtons\\\');\\n\\t\\t\\t\\t\\tbuttons.removeClass("tpHasRelated"); //css("top", "33%");\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.requestRelatedFeed = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar me = this;\\n\\t\\t\\t\\t\\tvar request = $pdk.util.getXMLHttpRequestObject();\\n\\t\\t\\t\\t\\tvar delimiter = "?";\\n\\n\\t\\t\\t\\t\\tif (this.relatedFeed.indexOf("?") >= 0)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tdelimiter = "&";\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar feedUrl = this.relatedFeed + delimiter + "range=" + this.rangeStart + "-" + (this.rangeStart + this.itemsPerPage - 1) + "&count=true";\\n\\t\\t\\t\\t\\tfeedUrl = $pdk.util.Strings.doUrlSubstitutions(feedUrl, this.initVars)\\n\\n\\t\\t\\t\\t\\tif (feedUrl.indexOf("form=") >= 0)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tfeedUrl = feedUrl.replace(/([\\\\&\\\\?])form=[^\\\\&\\\\?]+/, "\\\\\\\\$1form=json");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tfeedUrl += "&form=json";\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar formatArr = $pdk.env.Detect.getInstance()._supported_runtimes;\\n\\t\\t\\t\\t\\tvar formats = "";\\n\\n\\t\\t\\t\\t\\tfor (var i=0; i<formatArr.length; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tif (formatArr[i].indexOf("html5:") == 0 && formatArr[i].indexOf(":javascript") == -1)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tformats += ( formats.length > 0 ? "|" : "" ) + formatArr[i].split(":")[1];\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (formats)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tfeedUrl += "&byContent=byFormat%3D" + formats;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar onload = function() {\\n\\t\\t\\t\\t\\t\\tif (this.responseText && this.responseText.length && this.readyState == 4) {\\n\\t\\t\\t\\t\\t\\t\\tif (this.responseText && this.responseText.length && this.status == 200) {\\n\\t\\t\\t\\t\\t\\t\\t\\tvar json = JSON.parse(request.responseText);\\n\\t\\t\\t\\t\\t\\t\\t\\tme.totalItems = parseInt(json.totalResults);\\n\\t\\t\\t\\t\\t\\t\\t\\tvar entries = json.entries;\\n\\t\\t\\t\\t\\t\\t\\t\\tif (entries && entries.length > 0)\\n\\t\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tme.showRelatedItems(entries, me.itemsPerPage);\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tme.hideRelatedUI();\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tme.hideRelatedUI();\\n\\t\\t\\t\\t\\t\\t\\t\\tif (self.console)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\twindow.tpDebug("HTTP error " + request.status + ": " + request.statusText, "cards", "tpMenuCardPresenter", "error");\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ($pdk.isIE)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\trequest.onload = onload;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\trequest.onreadystatechange = onload;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// IE requires a setTimeout here\\n\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\trequest.open("GET", feedUrl);\\n\\t\\t\\t\\t\\t\\trequest.send(null);\\n\\t\\t\\t\\t\\t}, 10);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.initialize = function(initVars)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\tthis.is_touch_device = \\\'ontouchstart\\\' in document.documentElement;\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(\\\'.tpRelatedNext\\\').click(function(e) {\\n\\t\\t\\t\\t\\t\\tme.nextRange();\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(\\\'.tpRelatedPrevious\\\').click(function(e) {\\n\\t\\t\\t\\t\\t\\tme.previousRange();\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tthis.initialized = true;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.show = function(initVars)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.card = initVars.card;\\n\\t\\t\\t\\t\\tthis.initVars = initVars;\\n\\t\\t\\t\\t\\tthis.initialize(initVars);\\n\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).parent().css("overflow", "visible");\\n\\t\\t\\t\\t\\tvar overlayArea = initVars.controller.getOverlayArea();\\n\\t\\t\\t\\t\\tvar mediaArea = initVars.controller.getMediaArea();\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).css("margin-bottom", overlayArea.height - mediaArea.height + "px");\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).css("margin-right", overlayArea.width - mediaArea.width + "px");\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).css("margin-top", mediaArea.y - overlayArea.y + "px");\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).css("margin-left", mediaArea.x - overlayArea.x + "px");\\n\\n\\t\\t\\t\\t\\tif ((initVars.player.playerurl === undefined && initVars.player.embeddedplayerhtml === undefined) || \\n\\t\\t\\t\\t\\t\\t(initVars.player.allowlink === "false" && initVars.player.allowembed === "false" && initVars.player.emailserviceurl === undefined))\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpShare").remove();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (initVars.player.rssurl === undefined || initVars.player.allowrss === "false")\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRSS").remove();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpShare").click(function() {\\n\\t\\t\\t\\t\\t\\tif((window.fullScreen) || (window.innerWidth == screen.width && window.innerHeight > (screen.height-100)))\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showFullScreen(false);\\n\\t\\t\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showPlayerCard(\\\'forms\\\', \\\'tpShareCard\\\');\\n\\t\\t\\t\\t\\t\\t\\t}, 1500);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showPlayerCard(\\\'forms\\\', \\\'tpShareCard\\\');\\n\\t\\t\\t\\t\\t\\t}\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRSS").click(function() {\\n\\t\\t\\t\\t\\t\\tif((window.fullScreen) || (window.innerWidth == screen.width && window.innerHeight > (screen.height-100)))\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showFullScreen(false);\\n\\t\\t\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showPlayerCard(\\\'forms\\\', \\\'tpRssCard\\\');\\n\\t\\t\\t\\t\\t\\t\\t}, 1500);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showPlayerCard(\\\'forms\\\', \\\'tpRssCard\\\');\\n\\t\\t\\t\\t\\t\\t}\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpInfo").click(function() {\\n\\t\\t\\t\\t\\t\\tif((window.fullScreen) || (window.innerWidth == screen.width && window.innerHeight > (screen.height-100)))\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showFullScreen(false);\\n\\t\\t\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showPlayerCard(\\\'forms\\\', \\\'tpInfoCard\\\');\\n\\t\\t\\t\\t\\t\\t\\t}, 1500);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showPlayerCard(\\\'forms\\\', \\\'tpInfoCard\\\');\\n\\t\\t\\t\\t\\t\\t}\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\tif (initVars.player.relateditemsurl)\\n\\t\\t\\t\\t\\t{\\n\\n\\t\\t\\t\\t\\t\\tvar buttons = $pdk.jQuery(this.card).find(\\\'.tpMenuButtons\\\');\\n\\t\\t\\t\\t\\t\\tbuttons.addClass("tpHasRelated"); //css("top", "33%");\\n\\n\\t\\t\\t\\t\\t\\tthis.rangeStart = 1;\\n\\t\\t\\t\\t\\t\\tthis.itemsPerPage = parseInt(initVars.itemsPerPage) ? parseInt(initVars.itemsPerPage) : 6;\\n\\n\\t\\t\\t\\t\\t\\t// we can only fit 6 if we use hovering to display the title\\n\\t\\t\\t\\t\\t\\t// so on touch devices with divide this by 3\\n\\t\\t\\t\\t\\t\\tif (this.is_touch_device)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tthis.itemsPerPage = Math.ceil(this.itemsPerPage / 3);\\n\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\tif (this.itemsPerPage < 2) this.itemsPerPage = 2;\\n\\n\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedFooter").hide();\\n\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpRelatedFooter").css("height", "0px");\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tthis.relatedFeed = initVars.player.relateditemsurl;\\n\\n\\t\\t\\t\\t\\t\\tthis.requestRelatedFeed();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tthis.hideRelatedUI();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpMenuCardPresenter.prototype.hide = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t// this.tpOverlayBackground.css("display", "none");\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardRedirectPresenter = function() {\\n            };\\n            $pdk.cards.presenters.tpShareCardRedirectPresenter.prototype.show = function(initVars){\\n                initVars.controller.showPlayerCard("forms", "tpShareCard", initVars.area, {formId: this.formId});\\n            };\\n            $pdk.cards.presenters.tpShareCardRedirectPresenter.prototype.hide = function(){\\n            };\\n\\n            $pdk.cards.presenters.tpShareCardPostFormPresenter = function(){\\n                this.formId = "tpPostForm";\\n            };\\n            $pdk.cards.presenters.tpShareCardPostFormPresenter.prototype = new $pdk.cards.presenters.tpShareCardRedirectPresenter();\\n            $pdk.cards.presenters.tpShareCardPostFormPresenter.prototype.constructor = $pdk.cards.presenters.tpShareCardPostFormPresenter;\\n\\n            $pdk.cards.presenters.tpShareCardLinkFormPresenter = function(){\\n                this.formId = "tpLinkForm";\\n            };\\n            $pdk.cards.presenters.tpShareCardLinkFormPresenter.prototype = new $pdk.cards.presenters.tpShareCardRedirectPresenter();\\n            $pdk.cards.presenters.tpShareCardLinkFormPresenter.prototype.constructor = $pdk.cards.presenters.tpShareCardLinkFormPresenter;\\n\\n            $pdk.cards.presenters.tpShareCardEmbedFormPresenter = function(){\\n                this.formId = "tpEmbedForm";\\n            };\\n            $pdk.cards.presenters.tpShareCardEmbedFormPresenter.prototype = new $pdk.cards.presenters.tpShareCardRedirectPresenter();\\n            $pdk.cards.presenters.tpShareCardEmbedFormPresenter.prototype.constructor = $pdk.cards.presenters.tpShareCardEmbedFormPresenter;\\n\\n            $pdk.cards.presenters.tpShareCardEmailFormPresenter = function(){\\n                this.formId = "tpEmailForm";\\n            };\\n            $pdk.cards.presenters.tpShareCardEmailFormPresenter.prototype = new $pdk.cards.presenters.tpShareCardRedirectPresenter();\\n            $pdk.cards.presenters.tpShareCardEmailFormPresenter.prototype.constructor = $pdk.cards.presenters.tpShareCardEmailFormPresenter;\\n\\n\\t\\t\\t$pdk.cards.presenters.tpRssCardPresenter = function() {\\n\\t\\t\\t}\\n\\n\\t\\t    $pdk.cards.presenters.tpRssCardPresenter.prototype.selectTextToCopy = function() {\\n\\t\\t\\t\\t\\tvar content = "";\\n\\n\\t\\t\\t\\t\\tcontent = $pdk.jQuery(this.card).find(".tpCopyable")[0];\\n\\n\\t\\t\\t\\t    var sel = window.getSelection();\\n\\t\\t\\t\\t    var r = document.createRange();\\n\\t\\t\\t\\t    r.setStart(content.firstChild, 0);\\n\\t\\t\\t\\t\\tr.setEnd(content.firstChild, $pdk.jQuery(content).text().length);\\n                    if (!$pdk.isIE)\\n\\t\\t\\t\\t\\t    sel.removeAllRanges();\\n\\t\\t\\t\\t    sel.addRange(r);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpRssCardPresenter.prototype.initialize = function(initVars)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.initVars = initVars;\\n\\t\\t\\t\\t$pdk.jQuery(".tpCardClose .tpButton").click(function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tinitVars.controller.hidePlayerCard("forms", "tpRssCard");\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpRssCardPresenter.prototype.initSelection = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\tme.selectTextToCopy();\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t}, 100)\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpFormActions .tpButton").click(function() {\\n\\t\\t\\t\\t\\t\\t// IE cannot handle selecting text while the mouse button is being released, so we have to wait a half a second...\\n\\t\\t\\t\\t\\t\\tvar timeout = ($pdk.isIE ? 500 : 1);\\n\\n\\t\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\tme.selectTextToCopy();\\n\\t\\t\\t\\t\\t\\t}, timeout);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpRssCardPresenter.prototype.initInstructions = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t// change Ctrl-C to Command-C if on Desktop mac\\n\\t\\t\\t\\t\\tif (this.is_touch_device)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpInstructions").html(this.initVars.mobileInstructions)\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpFormActions .tpButton").hide();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse if (navigator.userAgent.indexOf("Mac OS X") != -1)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpInstructions").html($pdk.jQuery(this.card).find(".tpInstructions").html().replace("Ctrl-C", "&#8984;-C"))\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpRssCardPresenter.prototype.initForm = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.initSelection();\\n\\t\\t\\t\\t\\tthis.initInstructions();\\n\\t\\t\\t\\t\\tvar link = $pdk.util.Strings.doUrlSubstitutions($pdk.jQuery(this.card).find(".tpCopyable").html(), this.initVars);\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCopyable").html(link);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpRssCardPresenter.prototype.show = function(initVars)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.is_touch_device = \\\'ontouchstart\\\' in document.documentElement;\\n\\t\\t\\t\\t\\tthis.card = initVars.card;\\n\\t\\t\\t\\t\\tthis.initialize(initVars);\\n\\t\\t\\t\\t\\tthis.initForm();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpRssCardPresenter.prototype.hide = function()\\n\\t\\t\\t\\t{\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter = function() {\\n\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.showForm = function(formId)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.initVars.formId = formId;\\n\\n\\t\\t\\t\\t\\t// show all tabs and start over\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardTabs > div").css("display", "inline-block");\\n\\n\\t\\t\\t\\t\\t// hide all forms & selected tabs\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardForm > div").css("display", "none");\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardTabs > div[tp\\\\\\\\:selected=\\\'true\\\']").css("display", "none");\\n\\n\\t\\t\\t\\t\\t// show the selected form & tab\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardForm > div." + formId).css("display", "block");\\n\\t\\t\\t\\t\\tthis.form = $pdk.jQuery(this.card).find(".tpCardForm > div." + formId)[0];\\n\\n\\t\\t\\t\\t\\t// hide both versions of this icon\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardTabs > div[href=\\\'#" + formId + "\\\']").css("display", "none");\\n\\n\\t\\t\\t\\t\\t// then show the one that is selected\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardTabs > div[href=\\\'#" + formId + "\\\']").filter("[tp\\\\\\\\:selected=\\\'true\\\']").css("display", "inline-block");\\n\\n\\t\\t\\t\\t\\tthis.initForm();\\n\\n\\t\\t\\t\\t\\tif ($pdk.jQuery(this.form).find("ul").length > 0 && $pdk.jQuery(this.form).find("ul")[0].scrollHeight > $pdk.jQuery(this.form).find("ul").innerHeight())\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find("ul").css("overflow-y", "auto");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.addTabHandlers = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\tvar tabs = $pdk.jQuery(this.card).find(".tpCardTabs > div").not("div[tp\\\\\\\\:selected=\\\'true\\\']");\\n\\t\\t\\t\\t\\tfor (var i=0; i<tabs.length; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(tabs[i]).click(function(e) {\\n\\t\\t\\t\\t\\t\\t\\tme.showForm($pdk.jQuery(this).attr("href").substring(1));\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t    $pdk.cards.presenters.tpShareCardPresenter.prototype.selectTextToCopy = function() {\\n\\t\\t\\t\\t\\tvar content = "";\\n\\n\\t\\t\\t\\t\\tcontent = $pdk.jQuery(this.form).find(".tpCopyable")[0];\\n\\n\\t\\t\\t\\t    var sel = window.getSelection();\\n\\t\\t\\t\\t    var r = document.createRange();\\n\\t\\t\\t\\t    r.setStart(content.firstChild, 0);\\n\\t\\t\\t\\t\\tr.setEnd(content.firstChild, $pdk.jQuery(content).text().length);\\n                    if (!$pdk.isIE)\\n\\t\\t\\t\\t\\t    sel.removeAllRanges();\\n\\t\\t\\t\\t    sel.addRange(r);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.postToSite = function(site)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tfor (var i=0; i<this.sites.length; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tif (this.sites[i].id == site)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tvar url =this.sites[i].postUrl;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (url.indexOf("{status}") >= 0)\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\turl = url.replace(/\\\\{status\\\\}/gi, "Watching+{title}+{playerUrl}");\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t// add tags from clip.baseClip.contentCustomData[\\\'tags\\\']\\n\\n\\t\\t\\t\\t\\t\\t\\tthis.start = parseInt($pdk.jQuery(this.card).find(".tpExcerptControls").attr("tp:start"))/1000;\\n\\n\\t\\t\\t\\t\\t\\t\\turl = $pdk.util.Strings.doUrlSubstitutions(url, this.initVars, this.start);\\n\\n\\t\\t\\t\\t\\t\\t\\twindow.open(url, "Post", "width=600,height=400,location=no,status=no,toolbar=no");\\n\\t\\t\\t\\t\\t\\t\\tthis.initVars.controller.dispatchEvent("OnPost", {sharingSiteId: site, clip: this.initVars.clip, excerpt: {start: this.start, end: this.end, clip: this.initVars.clip}});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.initialize = function(initVars)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar post, link, embed, email;\\n\\t\\t\\t\\t\\tpost = link = embed = email = true;\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(".tpCardClose .tpButton").click(function(e)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tinitVars.controller.hidePlayerCard("forms", "tpShareCard");\\n\\t\\t\\t\\t\\t})\\n\\n\\t\\t\\t\\t\\tthis.initVars = initVars;\\n\\n\\t\\t\\t\\t\\tif (initVars.player.playerurl === undefined || initVars.player.allowlink === "false")\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardTabs .tpNavButton[href=#tpLinkForm]").remove();\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardTabs .tpNavButton[href=#tpPostForm]").remove();\\n\\t\\t\\t\\t\\t\\tlink = false;\\n\\t\\t\\t\\t\\t\\tpost = false;\\n\\t\\t\\t\\t\\t\\tif (initVars.formId == "tpLinkForm" || initVars.formId == "tpPostForm") initVars.formId = null;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (initVars.player.embeddedplayerhtml === undefined || initVars.player.allowembed === "false")\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardTabs .tpNavButton[href=#tpEmbedForm]").remove();\\n\\t\\t\\t\\t\\t\\tembed = false;\\n\\t\\t\\t\\t\\t\\tif (initVars.formId == "tpEmbedForm") initVars.formId = null;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (initVars.player.emailserviceurl === undefined || initVars.player.playerurl === undefined)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardTabs .tpNavButton[href=#tpEmailForm]").remove();\\n\\t\\t\\t\\t\\t\\temail = false;\\n\\t\\t\\t\\t\\t\\tif (initVars.formId == "tpEmailForm") initVars.formId = null;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!initVars.formId)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tif (post)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tinitVars.formId = "tpPostForm";\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse if (link)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tinitVars.formId = "tpLinkForm";\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse if (email)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tinitVars.formId = "tpEmailForm";\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse if (embed)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tinitVars.formId = "tpEmbedForm";\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tinitVars.controller.s\'),Jf(j.c,\'howPlayerCard("forms", "tpMenuCard");\\n\\t\\t\\t\\t\\t\\t}\\t\\t\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!initVars.clip || !initVars.clip.baseClip || initVars.clip.isAd || initVars.clip.baseClip.isAd || navigator.userAgent.match(/Phone/i))\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tinitVars.excerpts = false;\\n\\t\\t\\t\\t\\t}\\t\\t\\n\\n\\t\\t\\t\\t\\tif (!initVars.excerpts)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpPreview").remove();\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardExtras").remove();\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardForm").css("width", "100%").css("height", "100%");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tvar ratio = $pdk.jQuery(this.card).width() / $pdk.jQuery(this.card).height();\\n\\t\\t\\t\\t\\t\\tvar pixelWidth = $pdk.jQuery(this.card).find(".tpPreview").outerHeight() * ratio;\\n\\t\\t\\t\\t\\t\\tvar percentWidth = Math.floor(100 * (pixelWidth / $pdk.jQuery(this.card).width()));\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpPreview").css("width", percentWidth + "%");\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpCardForm").css("width", (100-percentWidth) + "%");\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.initSelection = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\tme.selectTextToCopy();\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t}, 100)\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find(".tpFormActions .tpButton").click(function() {\\n\\t\\t\\t\\t\\t\\t// IE cannot handle selecting text while the mouse button is being released, so we have to wait a half a second...\\n\\t\\t\\t\\t\\t\\tvar timeout = ($pdk.isIE ? 500 : 1);\\n\\n\\t\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\tme.selectTextToCopy();\\n\\t\\t\\t\\t\\t\\t}, timeout);\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.initInstructions = function(instructions)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t// change Ctrl-C to Command-C if on Desktop mac\\n\\t\\t\\t\\t\\tif (this.is_touch_device)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find(".tpInstructions").html(instructions)\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find(".tpFormActions .tpButton").hide();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse if (navigator.userAgent.indexOf("Mac OS X") != -1)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find(".tpInstructions").html($pdk.jQuery(this.form).find(".tpInstructions").html().replace("Ctrl-C", "&#8984;-C"))\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.initSharingSites = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar enabledSites = (this.initVars.player.sharingsiteids ? this.initVars.player.sharingsiteids.split(",") : ["facebook", "twitter", "tumblr", "googleplus", "digg", "reddit"]);\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\tme.sites = [\\n\\t\\t\\t\\t\\t\\t{id: "facebook", title: "Facebook", icon: \\\'images/icons/facebook.png\\\', postUrl: "http://www.facebook.com/sharer.php?u={playerURL}&t={title}"},\\n\\t\\t\\t\\t\\t\\t{id: "twitter", title: "Twitter", icon: \\\'images/icons/twitter.png\\\', postUrl: "http://twitter.com/home?status={status}"},\\n\\t\\t\\t\\t\\t\\t{id: "tumblr", title: "Tumblr", icon: \\\'images/icons/tumblr.png\\\', postUrl: "http://www.tumblr.com/share/video?caption={title}&embed={embeddedPlayerHTML}"},\\n\\t\\t\\t\\t\\t\\t{id: "googleplus", title: "Google+", icon: \\\'images/icons/googlePlus.png\\\', postUrl: "https://plus.google.com/share?url={playerURL}"},\\n\\t\\t\\t\\t\\t\\t{id: "reddit", title: "Reddit", icon: \\\'images/icons/reddit.png\\\', postUrl: "http://reddit.com/submit?url={playerURL}&title={title}"},\\n\\t\\t\\t\\t\\t\\t{id: "digg", title: "Digg", icon: \\\'images/icons/digg.png\\\', postUrl: "http://digg.com/submit?phase=2&url={playerURL}&title={title}&bodytext={description}&media=video"},\\n\\t\\t\\t\\t\\t\\t{id: "delicious", title: "Delicious", icon: \\\'images/icons/delicious.png\\\', postUrl: "http://del.icio.us/post?url={playerURL}&title={title}&notes={description}"},\\n\\t\\t\\t\\t\\t\\t{id: "stumbleupon", title: "StumbleUpon", icon: \\\'images/icons/stumbleUpon.png\\\', postUrl: "http://www.stumbleupon.com/submit?url={playerURL}&title={title}"},\\n\\t\\t\\t\\t\\t\\t{id: "myspace", title: "MySpace", icon: \\\'images/icons/mySpace.png\\\', postUrl: "http://www.myspace.com/Modules/PostTo/Pages/?t={title}&c={embeddedPlayerHTML}&u={playerURL}&l=4"},\\n\\t\\t\\t\\t\\t\\t{id: "vodpod", title: "VodPod", icon: \\\'images/icons/vodpod.png\\\', postUrl: "http://vodpod.com/savevideo/popup?t={title}&d={description}&embed={embeddedPlayerHTML}&p={playerURL}&source=theplatform&site={site}"},\\n\\t\\t\\t\\t\\t\\t{id: "windowslive", title: "Windows Live", icon: \\\'images/icons/windowsLive.png\\\', postUrl: "http://skydrive.live.com/quickadd.aspx?title={title}&mkt=en-us&url={playerURL}&marklet=1"}\\n\\t\\t\\t\\t\\t];\\n\\n\\t\\t\\t\\t\\t// make built in icons relative to PDK\\n\\t\\t\\t\\t\\tfor (var i=0; i<me.sites.length; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tif (me.sites[i].icon.indexOf("http://") != 0 && me.sites[i].icon.indexOf("https://") != 0)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tme.sites[i].icon = $pdk.scriptRoot + "/" + me.sites[i].icon;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar site, id, title, icon, url, spliced, siteObject;\\n\\n\\t\\t\\t\\t\\tfor (var key in me.initVars.player)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tif (key.toLowerCase() !== "sharingsiteids" && key.toLowerCase().indexOf("sharingsite") == 0)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tspliced = false;\\n\\t\\t\\t\\t\\t\\t\\tsite = me.initVars.player[key].split("|");\\n\\t\\t\\t\\t\\t\\t\\tif (site.length >= 4)\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tid = site[0];\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle = site[1];\\n\\t\\t\\t\\t\\t\\t\\t\\ticon = site[2];\\n\\t\\t\\t\\t\\t\\t\\t\\turl = site[3];\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tsiteObject = {id: id, title: title, icon: icon, postUrl: url};\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tfor (var i=0; i<me.sites.length; i++)\\n\\t\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (me.sites[i].id == id)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tme.sites.splice(i, 1, siteObject);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tspliced = true;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (!spliced)\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\tme.sites.push(siteObject);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpPostSiteList").empty();\\n\\n\\t\\t\\t\\t\\tvar iconUrl, i;\\n\\n\\t\\t\\t\\t\\tfor (var j=0; j<enabledSites.length; j++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tfor (var i=0; i<me.sites.length; i++)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tif (me.sites[i].id == enabledSites[j])\\n\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\ticonUrl = me.sites[i].icon;\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpPostSiteList").append("<li><a href=\\\'#" + me.sites[i].id + "\\\'><img src=\\\'" + iconUrl + "\\\'/>" + me.sites[i].title + "<\\/a><\\/li>");\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// if the form is small, don\\\'t use two columns...\\n\\t\\t\\t\\t\\tif ($pdk.jQuery(me.card).width() < 400)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpPostSiteList li").css("width", "100%");\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpPostSiteList li a").click(function(e) {\\n\\t\\t\\t\\t\\t\\tme.postToSite(this.href.split("#")[1]);\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t})\\t\\t\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.initEmailForm = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvar me = this;\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.form).find(".tpFormActions .tpSend").click(function(e) {\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\tvar request = $pdk.util.getXMLHttpRequestObject();\\n\\t\\t\\t\\t\\t\\tvar emailUrl = $pdk.util.Strings.doUrlSubstitutions(me.initVars.player.emailserviceurl, me.initVars);\\n\\t\\t\\t\\t\\t\\tvar params = "";\\n\\t\\t\\t\\t\\t\\tvar fromAddr = $pdk.jQuery(me.card).find(".tpEmailFrom").attr("value");\\n\\t\\t\\t\\t\\t\\tvar toAddr = $pdk.jQuery(me.card).find(".tpEmailTo").attr("value");\\n\\n\\t\\t\\t\\t\\t\\tme.start = parseInt($pdk.jQuery(me.card).find(".tpExcerptControls").attr("tp:start"))/1000;\\n\\n\\t\\t\\t\\t\\t\\tparams += "releaseTitle=" + escape(me.initVars.release.title);\\n\\t\\t\\t\\t\\t\\tparams += "&message=" + escape($pdk.jQuery(me.card).find(".tpEmailMessage").attr("value"));\\n\\t\\t\\t\\t\\t\\tparams += "&from=" + escape(fromAddr);\\n\\t\\t\\t\\t\\t\\tparams += "&to=" + escape(toAddr);\\n\\t\\t\\t\\t\\t\\tparams += "&releaseDescription=" + escape(me.initVars.release.description);\\n\\t\\t\\t\\t\\t\\tparams += "&playerURL=" + escape($pdk.util.Strings.doUrlSubstitutions(me.initVars.player.playerurl, me.initVars, me.start));\\n\\n\\t\\t\\t\\t\\t\\trequest.onreadystatechange = function() {\\n\\t\\t\\t\\t\\t\\t\\tif (request.readyState == 4) {\\n\\t\\t\\t\\t\\t\\t\\t\\tif (request.status == 200) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// email sent\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvar json = JSON.parse(request.responseText);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tif (json.isException)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showPlayerCard("forms", "tpErrorCard", "urn:theplatform:pdk:area:player", {title: \\\'Error sending email\\\', message: json.message});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.dispatchEvent("OnEmail", {recipientCount: 1, clip: me.initVars.clip, excerpt: {start: me.start, end: me.end, clip: me.initVars.clip}});\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.hidePlayerCard("forms", "tpEmailCard");\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\telse {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tme.initVars.controller.showPlayerCard("forms", "tpErrorCard", "urn:theplatform:pdk:area:player", {title: \\\'Error sending email\\\', message: \\\'There was an error connecting to the email service: \\\' + request.status + \\\' - \\\' + request.statusText});\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\trequest.open("POST", emailUrl, true);\\n\\n\\t\\t\\t\\t\\t\\t//Send the proper header information along with the request\\n\\t\\t\\t\\t\\t\\tif (!window.XDomainRequest && window.XMLHttpRequest)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\trequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\trequest.send(params);\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t})\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpFormActions .tpCancel").click(function(e) {\\n\\t\\t\\t\\t\\tme.initVars.controller.hidePlayerCard(\\\'forms\\\', \\\'tpEmailCard\\\');\\n\\t\\t\\t\\t\\t})\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailTo").focus(function(e) {\\n\\t\\t\\t\\t\\t\\tif ($pdk.jQuery(me.card).find(".tpEmailTo").val() === me.initVars.to) {\\n\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailTo").val("");\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailTo").blur(function(e) {\\n\\t\\t\\t\\t\\t\\tif ($pdk.jQuery(me.card).find(".tpEmailTo").val() === "") {\\n\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailTo").val(me.initVars.to);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailFrom").focus(function(e) {\\n\\t\\t\\t\\t\\t\\tif ($pdk.jQuery(me.card).find(".tpEmailFrom").val() === me.initVars.from) {\\n\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailFrom").val("");\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailFrom").blur(function(e) {\\n\\t\\t\\t\\t\\t\\tif ($pdk.jQuery(me.card).find(".tpEmailFrom").val() === "") {\\n\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailFrom").val(me.initVars.from);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailMessage").focus(function(e) {\\n\\t\\t\\t\\t\\t\\tif ($pdk.jQuery(me.card).find(".tpEmailMessage").val() === me.initVars.message) {\\n\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailMessage").val("");\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailMessage").blur(function(e) {\\n\\t\\t\\t\\t\\t\\tif ($pdk.jQuery(me.card).find(".tpEmailMessage").val() === "") {\\n\\t\\t\\t\\t\\t\\t\\t$pdk.jQuery(me.card).find(".tpEmailMessage").val(me.initVars.message);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.initForm = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.start = parseInt($pdk.jQuery(this.card).find(".tpExcerptControls").attr("tp:start"))/1000;\\n\\n\\t\\t\\t\\t\\tif (this.initVars.formId == "tpPostForm")\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tthis.initSharingSites();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse if (this.initVars.formId == "tpLinkForm")\\n\\t\\t\\t\\t\\t{\\n                        try {\\n\\n\\n\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find(".tpCopyable").text(this.initVars.player.playerurl);\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\tthis.initSelection();\\n\\t\\t\\t\\t\\t\\tthis.initInstructions(this.initVars.mobileLink);\\n\\t\\t\\t\\t\\t\\tvar link = $pdk.util.Strings.doUrlSubstitutions($pdk.jQuery(this.form).find(".tpCopyable").html(), this.initVars, this.start);\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find(".tpCopyable").html(link);\\n                        var me = this;\\n\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpExcerptControls").mouseup(function() {\\n\\t\\t\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\t\\tme.initForm();\\n\\t\\t\\t\\t\\t\\t\\t}, 100)\\n\\t\\t\\t\\t\\t\\t});\\n                        }\\n                        catch(e)\\n                        {\\n\\n                        }\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse if (this.initVars.formId == "tpEmbedForm")\\n\\t\\t\\t\\t\\t{\\n                        try {\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find(".tpCopyable").text(this.initVars.player.embeddedplayerhtml);\\n\\t\\t\\t\\t\\t\\tthis.initSelection();\\n\\t\\t\\t\\t\\t\\tthis.initInstructions(this.initVars.mobileEmbed);\\n\\t\\t\\t\\t\\t\\tvar code = $pdk.util.Strings.doUrlSubstitutions($pdk.jQuery(this.form).find(".tpCopyable").html(), this.initVars, this.start);\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.form).find(".tpCopyable").html(code);\\n\\t\\t\\t\\t\\t\\tvar me = this;\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(this.card).find(".tpExcerptControls").mouseup(function() {\\n\\t\\t\\t\\t\\t\\t\\tsetTimeout(function() {\\n\\t\\t\\t\\t\\t\\t\\t\\tme.initForm();\\n\\t\\t\\t\\t\\t\\t\\t}, 100)\\n\\t\\t\\t\\t\\t\\t});\\n                        }\\n                        catch(e){\\n\\n                        }\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse if (this.initVars.formId == "tpEmailForm")\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tthis.initEmailForm();\\n\\t\\t\\t\\t\\t\\tvar tpEmailMessage = $pdk.jQuery(this.card).find(".tpEmailForm .tpEmailMessage");\\n\\t\\t\\t\\t\\t\\tvar tpFormActions = $pdk.jQuery(this.card).find(".tpEmailForm .tpFormActions");\\n\\t\\t\\t\\t\\t\\tvar tpEmailForm = $pdk.jQuery(this.card).find(".tpEmailForm");\\n\\t\\t\\t\\t\\t\\ttpEmailMessage.height(tpFormActions.position().top - tpEmailMessage.position().top - 6);\\n\\t\\t\\t\\t\\t}\\t\\t\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.show = function(initVars)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tthis.is_touch_device = \\\'ontouchstart\\\' in document.documentElement;\\n\\t\\t\\t\\t\\tthis.card = initVars.card;\\n\\t\\t\\t\\t\\tthis.initialize(initVars);\\n\\t\\t\\t\\t\\tthis.showForm(initVars.formId);\\n\\t\\t\\t\\t\\tthis.addTabHandlers();\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpShareCardPresenter.prototype.hide = function()\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpInfoCardPresenter = function() {\\n\\t\\t\\t}   \\n\\n\\t\\t\\t$pdk.cards.presenters.tpInfoCardPresenter.prototype.show = function(initVars) {\\n\\n\\t\\t\\t\\t$pdk.jQuery(".tpCardClose .tpButton").click(function(e)\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tinitVars.controller.hidePlayerCard("forms", "tpInfoCard");\\n\\t\\t\\t\\t})\\n\\n\\t\\t\\t\\t\\tif (initVars.showPreview == "true")\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tvar preview = initVars.release.url;\\n\\n\\t\\t\\t\\t\\t\\tif (preview.indexOf("?"))\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tpreview = preview.split("?")[0];\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tpreview += "?format=poster&width=" + $pdk.jQuery(initVars.card).find(".tpMediaPreview").innerWidth() + "&height=" + $pdk.jQuery(initVars.card).find(".tpMediaPreview").innerHeight();\\n\\n\\t\\t\\t\\t\\t\\tif (initVars.assetType)\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tpreview += "&assetType=" + initVars.assetType;\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpMediaPreview img").attr(\\\'src\\\', preview);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpMediaPreview").remove();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!$pdk.jQuery(initVars.card).find(".tpChapterTitle").text())\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpChapterTitle").remove();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpCopyright").text($pdk.jQuery(initVars.card).find(".tpCopyright").text().replace("\\xA9 \\xA9", "\\xA9"));\\n\\n\\t\\t\\t\\t\\tvar ratings = [];\\n\\n\\t\\t\\t\\t\\tfor (var i=0; i<initVars.release.ratings.length; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tratings.push(initVars.release.ratings[i].rating);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tratings = ratings.join(", ");\\n\\n\\t\\t\\t\\t\\tif (ratings)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpRatings").html(ratings);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpRatings").remove();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar categories = [];\\n\\n\\t\\t\\t\\t\\tfor (var i=0; i<initVars.release.categories.length; i++)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tcategories.push(initVars.release.categories[i].name);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tcategories = categories.join(", ");\\n\\n\\t\\t\\t\\t\\tif (categories)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpCategories").html(categories);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpCategories").remove();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (!$pdk.jQuery(initVars.card).find(".tpAuthor").text())\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpAuthor").remove();\\n\\t\\t\\t\\t\\t}   \\n\\n\\t\\t\\t\\t\\tvar duration = new Date();\\n\\t\\t\\t\\t\\tvar durationStr = "";\\n\\t\\t\\t\\t\\tduration.setHours(0);\\n\\t\\t\\t\\t\\tduration.setMinutes(0);\\n\\t\\t\\t\\t\\tduration.setSeconds(0);\\n\\t\\t\\t\\t\\tduration.setMilliseconds(parseInt($pdk.jQuery(initVars.card).find(".tpDuration").text()));\\n\\n\\t\\t\\t\\t\\tif (duration.getHours() > 0)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tdurationStr = duration.getHours() + ":" + (duration.getMinutes() < 10 ? "0" : "") + duration.getMinutes() + ":" + (duration.getSeconds() < 10 ? "0" : "") + duration.getSeconds();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\tdurationStr =  duration.getMinutes() + ":" + (duration.getSeconds() < 10 ? "0" : "") + duration.getSeconds();\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif (durationStr)\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpDuration").html(durationStr);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t$pdk.jQuery(initVars.card).find(".tpDuration").remove();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.presenters.tpInfoCardPresenter.prototype.hide = function()\\n\\t\\t\\t\\t{\\n\\n\\t\\t\\t\\t}\\n\\t\\t<\\/script>\\n\\t\\t\\n\\t\\t<script type="text/javascript">\\n\\t\\t\\t$pdk.cards.addDefaultCards = function() {\\n\\n\\t\\t\\t\\t$pdk.cards.presenters.share_config = {\\n\\t\\t\\t\\t\\ttitle: \\\'Share\\\',\\n\\t\\t\\t\\t\\texcerpts: true,\\n\\n\\t\\t\\t\\t\\tpost: "Post to a site",\\n\\t\\t\\t\\t\\tlink: "Press Ctrl-C to copy the link",\\n\\t\\t\\t\\t\\tembed: "Press Ctrl-C to copy the code",\\n\\t\\t\\t\\t\\tmobileLink: "Tap and hold below to copy the link",\\n\\t\\t\\t\\t\\tmobileEmbed: "Tap and hold below to copy the code",\\n\\t\\t\\t\\t\\tsend: \\\'Send\\\',\\n\\t\\t\\t\\t\\tcancel: \\\'Cancel\\\',\\n\\t\\t\\t\\t\\tselect: \\\'Select Text\\\',\\n\\t\\t\\t\\t\\tclose: \\\'Close\\\',\\n\\t\\t\\t\\t\\tlabel: \\\'Play or seek to adjust the time offset.\\\',\\n\\t\\t\\t\\t\\tplay: \\\'Play\\\',\\n\\t\\t\\t\\t\\tpause: \\\'Pause\\\',\\n\\t\\t\\t\\t\\tmessage: \\\'Message\\\', \\n\\t\\t\\t\\t\\tto: \\\'Send to\\\',\\n\\t\\t\\t\\t\\tfrom: \\\'Your Email\\\'\\n\\t\\t\\t\\t}\'),Jf(j.c,\'\\n\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpMenuCard", document.getElementById("tpMenuCard"), "urn:theplatform:pdk:area:overlay", {share: \\\'Share\\\', rss: \\\'RSS\\\', info: \\\'Info\\\', label: "Related Items", range: "{start} - {end} of {total}", title: "<h4>{release.title}<\\/h4><span>{release.description}<\\/span>"},  $pdk.cards.presenters.tpMenuCardPresenter, 100, ["*"]);\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpRssCard", document.getElementById("tpRssCard"), "urn:theplatform:pdk:area:player", {title: \\\'RSS\\\', instructions: "Press Ctrl-C to copy the RSS feed", mobileInstructions: "Select and copy the RSS feed below", select: \\\'Select Text\\\', close: \\\'Close\\\'},  $pdk.cards.presenters.tpRssCardPresenter, 100, ["*"]);\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpErrorCard", document.getElementById("tpErrorCard"), "urn:theplatform:pdk:area:media", {title: "Error", message: "There was an error.", close: "Close"}, null, 100, ["*"]);\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpShareCard", document.getElementById("tpShareCard"), "urn:theplatform:pdk:area:player", $pdk.cards.presenters.share_config,  $pdk.cards.presenters.tpShareCardPresenter, 100, ["*"]);\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpPostCard", "<div><\\/div>", "urn:theplatform:pdk:area:player", {},  $pdk.cards.presenters.tpShareCardPostFormPresenter, 100, ["*"]);\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpLinkCard", "<div><\\/div>", "urn:theplatform:pdk:area:player", {},  $pdk.cards.presenters.tpShareCardLinkFormPresenter, 100, ["*"]);\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpEmbedCard", "<div><\\/div>", "urn:theplatform:pdk:area:player", {},  $pdk.cards.presenters.tpShareCardEmbedFormPresenter, 100, ["*"]);\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpEmailCard", "<div><\\/div>", "urn:theplatform:pdk:area:player", {},  $pdk.cards.presenters.tpShareCardEmailFormPresenter, 100, ["*"]);\\n\\t\\t\\t\\t$pdk.controller.addPlayerCard("forms", "tpInfoCard", document.getElementById("tpInfoCard"), "urn:theplatform:pdk:area:player", {title: \\\'Info\\\', close: \\\'Close\\\'},  $pdk.cards.presenters.tpInfoCardPresenter, 100, ["*"]);\\n\\t\\t\\t}\\n\\n\\t\\t\\t$pdk.cards.addDefaultCards();\\t\\t\\t\\n\\t\\t\\t$pdk.controller.dispatchEvent("OnCardsLoaded", {});\\n\\t\\t\\t\\n\\t\\t<\\/script>\\n<\\/div>\\n\'),j.c.c);pjb(c)}g=VUb(a.f);f=a.i;d=new BVb(g);e=new BVb(f);new Npb(b,d,e);new Mqb(Trb(jLb(a.j.c)),d,e);return new plb}\nvar rYd=\' 0, \',qYd=\', 0 0 3px \',oYd=\'0.6\',sYd=\'1.0\',vYd=\';background-color:\',tYd=\';border:1px solid \',xYd=\';color:\',EYd=\'OnClearCurrentRelease\',DYd=\'OnLoadRelease\',zYd=\'OnMediaAreaChangedFlash\',FYd=\'OnMediaPause\',GYd=\'OnMediaUnpause\',BYd=\'OnOverlayAreaChangedFlash\',AYd=\'OnPlayerComponentAreaChanged\',CYd=\'OnReleaseStart\',NYd=\'[Lcom.theplatform.pdk.cards.overlay.impl.shared.\',yYd=\'addPlayerCard\',MYd=\'com.theplatform.pdk.cards.overlay.impl.shared.\',OYd=\'com.theplatform.pdk.cards.presenter.phase1.\',PYd=\'com.theplatform.pdk.cards.subsystem.phase1.\',RYd=\'com.theplatform.pdk.cards.subsystem.presenter.behaviors.\',IYd=\'com.theplatform.pdk.cards.subsystem.presenter.impl.shared.\',JYd=\'com.theplatform.pdk.controls.impl.client.\',LYd=\'com.theplatform.pdk.player.hider.impl.client.core.\',KYd=\'com.theplatform.pdk.player.hider.impl.shared.\',wYd=\'controlBackgroundColor\',uYd=\'controlFrameColor\',HYd=\'noop\',pYd=\'textBackgroundColor\',nYd=\'textColor\';var Uhb;var aib=false;XZ(457,1,Cxd,sib);XZ(458,1,{126:1},Lib);_.eQ=function Mib(a){return Eib(this,a)};_.hC=function Nib(){return Xmd(jslink.Fib(this))};_.j=0;XZ(460,1,{128:1},cjb);XZ(463,1,{},ljb);_.Nb=function mjb(a){xjb(this.d,a)};_.Qc=function njb(a){kjb(this,wt(a,226))};XZ(465,1,Dxd);_.Ob=function vjb(){hjb(this.c.c,new zjb(this,this.d))};XZ(466,1,{},zjb);_.Nb=function Ajb(a){xjb(this,a)};_.Qc=function Bjb(a){yjb(this,wt(a,138))};XZ(488,1,{132:1},plb);XZ(490,1,{},vlb);_.d=null;XZ(491,1,{},zlb);XZ(492,1,Exd,Clb);_.be=function Dlb(a,b,c){Blb(this,(wt(a,136),wt(b,136)),wt(c,134))};XZ(493,1,Gxd,Glb);_.de=function Hlb(a,b,c){return Flb(this,wt(a,136),wt(b,136),wt(c,134))};XZ(494,71,{133:1,400:1,405:1,407:1},Ulb);var Jlb,Klb,Llb,Mlb,Nlb,Olb,Plb,Qlb,Rlb,Slb;var Xlb;XZ(496,1,{134:1},$lb);XZ(497,71,{135:1,400:1,405:1,407:1},emb);var amb,bmb,cmb;var hmb;XZ(499,71,{136:1,400:1,405:1,407:1},tmb);var kmb,lmb,mmb,nmb,omb,pmb,qmb,rmb;XZ(500,71,{137:1,400:1,405:1,407:1},Dmb);var wmb,xmb,ymb,zmb,Amb,Bmb;var Gmb;XZ(502,1,{},Kmb);XZ(503,1,{},Nmb);_.ee=function Omb(a){$wnd.tpDebug(a)};XZ(539,1,{},Npb);XZ(540,1,{},Rpb);_.fe=function Spb(a){var b;b=xt(a);Ipb(this.c,new ujd(Fqb(b),Gqb(b),Eqb(b),Dqb(b)))};XZ(541,1,{},Vpb);_.fe=function Wpb(a){Upb(this,wt(a,45))};XZ(542,1,{},Zpb);_.fe=function $pb(a){Ypb(this,wt(a,45))};XZ(543,1,{},aqb);_.fe=function bqb(a){var b;b=xt(a);Hpb(this.c,new ujd(Fqb(b),Gqb(b),Eqb(b),Dqb(b)))};XZ(544,1,{},dqb);_.fe=function eqb(a){var b;b=xt(a);Fpb(this.c,new ujd(Fqb(b),Gqb(b),Eqb(b),Dqb(b)))};XZ(545,1,{},hqb);_.fe=function iqb(a){gqb(this,xt(a))};XZ(546,1,{},lqb);_.fe=function mqb(a){kqb(this,xt(a))};XZ(547,1,{},pqb);_.fe=function qqb(a){oqb(this,xt(a))};XZ(548,1,{},tqb);_.fe=function uqb(a){sqb(this,xt(a))};XZ(549,1,{},xqb);_.fe=function yqb(a){wqb(this,wt(a,45))};XZ(550,1,{},Bqb);_.fe=function Cqb(a){Aqb(this,wt(a,45))};XZ(553,1,{},Mqb);XZ(554,1,{},Pqb);_.fe=function Qqb(a){Oqb(this,xt(a))};XZ(555,1,{},Tqb);_.fe=function Uqb(a){Sqb(this,xt(a))};XZ(556,1,{},Xqb);_.fe=function Yqb(a){Wqb(this,xt(a))};XZ(557,1,{},_qb);_.fe=function arb(a){$qb(this,xt(a))};XZ(558,1,{},drb);_.fe=function erb(a){crb(this,wt(a,50))};XZ(559,1,{},grb);_.fe=function hrb(a){var b;b=xt(a);Kqb(this.c,new ujd(Qrb(b),Rrb(b),Prb(b),Orb(b)))};XZ(560,1,{},krb);_.fe=function lrb(a){jrb(this,xt(a))};XZ(561,1,{},orb);_.fe=function prb(a){nrb(this,xt(a))};XZ(562,1,{},srb);_.fe=function trb(a){rrb(this,xt(a))};XZ(563,1,{},wrb);_.fe=function xrb(a){vrb(this,xt(a))};XZ(564,1,{},Arb);_.fe=function Brb(a){zrb(this,xt(a))};XZ(565,1,{},Erb);_.fe=function Frb(a){Drb(this,wt(a,50))};XZ(566,1,{},Irb);_.fe=function Jrb(a){Hrb(this,xt(a))};XZ(567,1,{},Mrb);_.fe=function Nrb(a){Lrb(this,wt(a,50))};XZ(569,1,{},Urb);XZ(570,1,{},isb);XZ(571,1,Lxd,lsb);_.ge=function msb(a,b,c,d){this.e=null;MWb(this.c,true);d==null&&(this.i&&!this.f?HIb(this.j):!this.i&&this.f&&JIb(this.j))};_.he=function nsb(a,b,c,d){pmd(\'urn:theplatform:pdk:area:player\',b)&&MWb(this.c,false);this.e=c;if(d==null){this.i=this.f;this.i||HIb(this.j)}};_.ie=function osb(){this.f=true};_.je=function psb(){this.f=false;ksb(this)};_.ke=function qsb(){this.f=false;this.e!=null&&(this.i=false);ksb(this)};_.le=function rsb(){ksb(this)};_.me=function ssb(){ksb(this)};_.ne=function tsb(){ksb(this)};_.oe=function usb(a){a&&ksb(this)};_.pe=function vsb(){ksb(this)};_.qe=function wsb(){ksb(this)};_.re=function xsb(){ksb(this)};_.se=function ysb(){ksb(this)};_.f=false;_.i=false;XZ(572,1,Lxd,Asb);_.ge=function Bsb(a,b,c,d){};_.he=function Csb(a,b,c,d){this.d=c;this.e=a};_.ie=function Dsb(){};_.je=function Esb(){};_.ke=function Fsb(){};_.le=function Gsb(){};_.me=function Hsb(){};_.ne=function Isb(){jslink.inb(this.c,this.e,this.d)};_.oe=function Jsb(a){};_.pe=function Ksb(){};_.qe=function Lsb(){};_.re=function Msb(){};_.se=function Nsb(){};XZ(573,1,{},Tsb);XZ(574,1,{},Wsb);var utb;XZ(723,1,{},lHb);XZ(724,1,{},oHb);XZ(746,1,{},FIb);XZ(747,1,{},LIb);XZ(749,1,{},RIb);XZ(875,1,{},HVb);_.fe=function IVb(a){GVb(this,wt(a,50))};XZ(879,878,{},XVb);_.If=function YVb(a){this.c.fe((hr(),a?gr:fr))};_.Jf=function ZVb(a){this.c.fe(new zr(a))};_.Kf=function $Vb(a){this.c.fe(new Gs(a))};_.Hf=function _Vb(){var b=this;return function(a){switch(typeof a.data){case $zd:b.If(a.data);break;case _zd:b.Jf(a.data);break;case QCd:b.Kf(a.data);break;}}};XZ(885,1,{},KWb);_.d=null;XZ(886,258,Zwd,NWb);XZ(887,1,{},QWb);XZ(1074,1,{},bcc);_.d=null;XZ(1075,1,{},fcc);XZ(1076,1,{},icc);XZ(1077,1,{},kcc);XZ(1078,1,{},ncc);XZ(1079,1,{},qcc);_.d=null;var wH=Xjd(cNd,\'Phase1ControllerDefaultImpl$2\',875),nC=Xjd(IYd,yNd,574),IH=Xjd(JYd,yNd,887),PK=Xjd(KYd,yNd,1078),NK=Xjd(LYd,yNd,1076),bB=Xjd(MYd,yNd,502),iC=Xjd(\'com.theplatform.pdk.cards.subsystem.presenter.api.shared.\',yNd,569),GH=Xjd(\'com.theplatform.pdk.controls.api.shared.\',yNd,885),LK=Xjd(\'com.theplatform.pdk.player.hider.api.shared.\',yNd,1074),QK=Xjd(\'com.theplatform.pdk.player.hider.impl.shared.core.\',yNd,1079),UA=Xjd(\'com.theplatform.pdk.cards.overlay.api.shared.\',yNd,490),uA=Xjd(WNd,\'CardsPresenterPhase1AsyncProvider$1$1\',466),aB=Xjd(MYd,\'CardsOverlayDefaultImpl\',491),ZA=Yjd(MYd,\'CardsOverlayDefaultImpl$RunTime\',497,gmb),TX=Wjd(NYd,\'CardsOverlayDefaultImpl$RunTime;\',1835,ZA),_A=Yjd(MYd,\'CardsOverlayDefaultImpl$WMode\',500,Fmb),VX=Wjd(NYd,\'CardsOverlayDefaultImpl$WMode;\',1836,_A),$A=Yjd(MYd,\'CardsOverlayDefaultImpl$State\',499,umb),UX=Wjd(NYd,\'CardsOverlayDefaultImpl$State;\',1837,$A),YA=Yjd(MYd,\'CardsOverlayDefaultImpl$Input\',494,Wlb),SX=Wjd(NYd,\'CardsOverlayDefaultImpl$Input;\',1838,YA),XA=Xjd(MYd,\'CardsOverlayDefaultImpl$InputData\',496),VA=Xjd(MYd,\'CardsOverlayDefaultImpl$1\',492),WA=Xjd(MYd,\'CardsOverlayDefaultImpl$2\',493),sA=Xjd(WNd,\'CardsPresenterAsyncProvider$1\',463),SA=Xjd(eOd,\'PDKCardsLoaderResponse\',488),UB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl\',539),LB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$1\',540),MB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$2\',543),NB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$3\',544),OB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$4\',545),PB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$5\',546),QB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$6\',547),RB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$7\',548),SB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$8\',549),TB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$9\',550),JB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$10\',541),KB=Xjd(OYd,\'CardsPresenterPhase1DefaultImpl$11\',542),hC=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl\',553),$B=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$1\',554),_B=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$2\',560),aC=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$3\',561),bC=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$4\',562),cC=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$5\',563),dC=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$6\',564),eC=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$7\',565),fC=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$8\',566),gC=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$9\',567),VB=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$10\',555),WB=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$11\',556),XB=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$12\',557),YB=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$13\',558),ZB=Xjd(PYd,\'CardsSubSystemPresenterPhase1DefaultImpl$14\',559),mC=Xjd(IYd,\'CardsSubSystemPresenterDefaultImpl\',573),AH=Xjd(cNd,\'Phase1EventHandlerJSONValueImpl\',879),kF=Xjd($Md,\'Phase1PlaybackProvider\',746),jF=Xjd($Md,\'Phase1PlaybackProvider$PlaybackPhase1Impl\',747),HH=Xjd(JYd,\'CanShowControlsGwtWidgetImpl\',886),cB=Xjd(jslink.QYd,\'CardsLoggerJavaScriptImpl\',503),qA=Xjd(wOd,\'Deck\',460),oA=Xjd(wOd,\'Card\',458),jC=Xjd(RYd,\'DeckBehaviorFactoryImpl\',570),OK=Xjd(KYd,\'PlayerHiderDefaultImpl\',1077),QE=Xjd($Md,\'CardsOverlayWModeProvider\',724),PE=Xjd($Md,\'CardsOverlayRuntimeProvider\',723),kC=Xjd(RYd,\'DeckBehaviorFormsImpl\',571),lC=Xjd(RYd,\'DeckBehavoirNoOpImpl\',572),MK=Xjd(LYd,\'PlayerHiderCoreImpl\',1075),mF=Xjd($Md,\'PlayerElementProvider\',749);kzd(Ld)(5);')
